2025-12-21 00:06:03.123 +03:00 [INF] Starting SunHotels basic data synchronization... (JobId: "d4a76866-5346-4e0a-bce5-74a088d5aacf")
2025-12-21 00:06:03.133 +03:00 [INF] Syncing languages...
2025-12-21 00:06:03.133 +03:00 [INF] Sending static request to SunHotels: GetLanguages - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetLanguages?userName=FreestaysTEST&password=Vision2024!@
2025-12-21 00:06:03.598 +03:00 [INF] Parsed 19 languages from XML
2025-12-21 00:06:03.620 +03:00 [INF] Synced 19 languages (Added: 0, Updated: 0)
2025-12-21 00:06:03.620 +03:00 [INF] Syncing themes...
2025-12-21 00:06:03.620 +03:00 [INF] Sending static request to SunHotels: GetThemes - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetThemes?userName=FreestaysTEST&password=Vision2024!@
2025-12-21 00:06:03.841 +03:00 [INF] Parsed 6 themes from XML
2025-12-21 00:06:03.859 +03:00 [INF] Synced 6 themes (Added: 0, Updated: 0)
2025-12-21 00:06:03.859 +03:00 [INF] Syncing destinations for language: en
2025-12-21 00:06:03.859 +03:00 [INF] Sending static request to SunHotels: GetDestinations - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetDestinations?userName=FreestaysTEST&password=Vision2024!@&language=en&destinationCode=&sortBy=&sortOrder=&exactDestinationMatch=
2025-12-21 00:06:09.629 +03:00 [INF] Parsed 23248 destinations from XML
2025-12-21 00:06:09.853 +03:00 [INF] Synced 23248 destinations for language: en (Added: 0, Updated: 0)
2025-12-21 00:06:09.853 +03:00 [INF] Syncing meals for language: en
2025-12-21 00:06:09.853 +03:00 [INF] Sending static request to SunHotels: GetMeals - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetMeals?userName=FreestaysTEST&password=Vision2024!@&language=en
2025-12-21 00:06:09.938 +03:00 [INF] Parsed 5 meals from XML
2025-12-21 00:06:09.998 +03:00 [INF] Synced 5 meals for language: en (Added: 0, Updated: 2)
2025-12-21 00:06:09.999 +03:00 [INF] Syncing room types for language: en
2025-12-21 00:06:09.999 +03:00 [INF] Sending static request to SunHotels: GetRoomTypes - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetRoomTypes?userName=FreestaysTEST&password=Vision2024!@&language=en
2025-12-21 00:13:06.696 +03:00 [ERR] Error getting room types from SunHotels
System.Threading.Tasks.TaskCanceledException: The request was canceled due to the configured HttpClient.Timeout of 100 seconds elapsing.
 ---> System.TimeoutException: The operation was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: The operation was canceled.
 ---> System.Net.Http.HttpIOException: The response ended prematurely. (ResponseEnded)
   at System.Net.Http.HttpConnection.FillAsync(Boolean async)
   at System.Net.Http.HttpConnection.CopyToContentLengthAsync(Stream destination, Boolean async, UInt64 length, Int32 bufferSize, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnection.ContentLengthReadStream.CompleteCopyToAsync(Task copyTask, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnection.ContentLengthReadStream.CompleteCopyToAsync(Task copyTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionResponseContent.<SerializeToStreamAsync>g__Impl|6_0(Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpContent.LoadIntoBufferAsyncCore(Task serializeToStreamTask, MemoryStream tempBuffer)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at FreeStays.Infrastructure.ExternalServices.SunHotels.SunHotelsService.SendStaticRequestAsync(String method, Dictionary`2 parameters, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/ExternalServices/SunHotels/SunHotelsService.cs:line 878
   at FreeStays.Infrastructure.ExternalServices.SunHotels.SunHotelsService.GetRoomTypesAsync(String language, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/ExternalServices/SunHotels/SunHotelsService.cs:line 110
2025-12-21 00:13:06.705 +03:00 [ERR] Error syncing room types for language: en
FreeStays.Domain.Exceptions.ExternalServiceException: External service 'SunHotels' error: Failed to get room types
 ---> System.Threading.Tasks.TaskCanceledException: The request was canceled due to the configured HttpClient.Timeout of 100 seconds elapsing.
 ---> System.TimeoutException: The operation was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: The operation was canceled.
 ---> System.Net.Http.HttpIOException: The response ended prematurely. (ResponseEnded)
   at System.Net.Http.HttpConnection.FillAsync(Boolean async)
   at System.Net.Http.HttpConnection.CopyToContentLengthAsync(Stream destination, Boolean async, UInt64 length, Int32 bufferSize, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnection.ContentLengthReadStream.CompleteCopyToAsync(Task copyTask, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnection.ContentLengthReadStream.CompleteCopyToAsync(Task copyTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionResponseContent.<SerializeToStreamAsync>g__Impl|6_0(Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpContent.LoadIntoBufferAsyncCore(Task serializeToStreamTask, MemoryStream tempBuffer)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at FreeStays.Infrastructure.ExternalServices.SunHotels.SunHotelsService.SendStaticRequestAsync(String method, Dictionary`2 parameters, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/ExternalServices/SunHotels/SunHotelsService.cs:line 878
   at FreeStays.Infrastructure.ExternalServices.SunHotels.SunHotelsService.GetRoomTypesAsync(String language, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/ExternalServices/SunHotels/SunHotelsService.cs:line 110
   --- End of inner exception stack trace ---
   at FreeStays.Infrastructure.ExternalServices.SunHotels.SunHotelsService.GetRoomTypesAsync(String language, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/ExternalServices/SunHotels/SunHotelsService.cs:line 116
   at FreeStays.Infrastructure.BackgroundJobs.SunHotelsStaticDataSyncJob.SyncRoomTypesAsync(String language) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/BackgroundJobs/SunHotelsStaticDataSyncJob.cs:line 445
2025-12-21 00:13:06.706 +03:00 [INF] Syncing features for language: en
2025-12-21 00:13:06.707 +03:00 [INF] Sending static request to SunHotels: GetFeatures - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetFeatures?userName=FreestaysTEST&password=Vision2024!@&language=en
2025-12-21 00:13:07.510 +03:00 [INF] Parsed 50 features from XML
2025-12-21 00:13:07.547 +03:00 [INF] Synced 50 features for language: en
2025-12-21 00:13:08.462 +03:00 [INF] SunHotels basic data synchronization completed (JobId: "d4a76866-5346-4e0a-bce5-74a088d5aacf", Duration: 425s)
2025-12-21 02:40:56.813 +03:00 [INF] Server macbookair:14979:56bb0f3b caught stopping signal...
2025-12-21 02:40:56.826 +03:00 [INF] Server macbookair:14979:56bb0f3b All dispatchers stopped
2025-12-21 02:40:56.832 +03:00 [INF] Server macbookair:14979:56bb0f3b successfully reported itself as stopped in 2,8254 ms
2025-12-21 02:40:56.832 +03:00 [INF] Server macbookair:14979:56bb0f3b has been stopped in total 15,2567 ms
