2025-12-20 00:00:18.028 +03:00 [INF] Checking database connectivity...
2025-12-20 00:00:18.696 +03:00 [INF] Ensuring database schema exists...
2025-12-20 00:00:19.102 +03:00 [INF] Database is ready.
2025-12-20 00:00:19.226 +03:00 [INF] Admin user already exists, skipping...
2025-12-20 00:00:19.247 +03:00 [INF] Email templates already exist, skipping...
2025-12-20 00:00:19.268 +03:00 [INF] Site settings already exist, skipping...
2025-12-20 00:00:19.268 +03:00 [INF] Database seeding completed successfully.
2025-12-20 00:00:19.270 +03:00 [INF] FreeStays API started at "2025-12-19T21:00:19.2705310Z"
2025-12-20 00:00:19.313 +03:00 [INF] Starting Hangfire Server using job storage: 'In-Memory Storage'
2025-12-20 00:00:19.314 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-12-20 00:00:19.320 +03:00 [INF] Server macbookair:47982:995cd1ca successfully announced in 0,5392 ms
2025-12-20 00:00:19.322 +03:00 [INF] Server macbookair:47982:995cd1ca is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-12-20 00:00:19.324 +03:00 [INF] Server macbookair:47982:995cd1ca all the dispatchers started
2025-12-20 00:00:23.706 +03:00 [WRN] Failed to determine the https port for redirect.
2025-12-20 00:00:23.754 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 00:00:23.801 +03:00 [INF] FreeStays Request: UpdateStaticPageCommand {"Id":"1fb31191-9a5a-40d6-a2dd-95fd79d576ea","Slug":"privacy-policy","IsActive":true,"Translations":[{"Locale":"tr","Title":"Kullanım Koşulları","Content":"Deneme","MetaTitle":"Deneme","MetaDescription":"Deneme","$type":"CreateStaticPageTranslationDto"}],"$type":"UpdateStaticPageCommand"}
2025-12-20 00:00:24.079 +03:00 [ERR] FreeStays Request Error: UpdateStaticPageCommand (276 ms) {"Id":"1fb31191-9a5a-40d6-a2dd-95fd79d576ea","Slug":"privacy-policy","IsActive":true,"Translations":[{"Locale":"tr","Title":"Kullanım Koşulları","Content":"Deneme","MetaTitle":"Deneme","MetaDescription":"Deneme","$type":"CreateStaticPageTranslationDto"}],"$type":"UpdateStaticPageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Pages.Commands.UpdateStaticPageCommandHandler.Handle(UpdateStaticPageCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Pages/Commands/UpdateStaticPageCommand.cs:line 85
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
2025-12-20 00:00:24.088 +03:00 [ERR] HTTP PUT /api/v1/admin/pages/1fb31191-9a5a-40d6-a2dd-95fd79d576ea responded 500 in 382.6370 ms
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Pages.Commands.UpdateStaticPageCommandHandler.Handle(UpdateStaticPageCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Pages/Commands/UpdateStaticPageCommand.cs:line 85
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
   at FreeStays.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/ValidationBehavior.cs:line 42
   at FreeStays.API.Controllers.Admin.AdminPagesController.UpdatePage(Guid id, UpdatePageRequest request) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Controllers/Admin/AdminPagesController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-20 00:00:24.094 +03:00 [ERR] Unhandled exception: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Pages.Commands.UpdateStaticPageCommandHandler.Handle(UpdateStaticPageCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Pages/Commands/UpdateStaticPageCommand.cs:line 85
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
   at FreeStays.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/ValidationBehavior.cs:line 42
   at FreeStays.API.Controllers.Admin.AdminPagesController.UpdatePage(Guid id, UpdatePageRequest request) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Controllers/Admin/AdminPagesController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at FreeStays.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Middleware/ExceptionHandlingMiddleware.cs:line 22
2025-12-20 00:02:20.855 +03:00 [INF] Checking database connectivity...
2025-12-20 00:02:21.573 +03:00 [INF] Ensuring database schema exists...
2025-12-20 00:02:21.988 +03:00 [INF] Database is ready.
2025-12-20 00:02:22.121 +03:00 [INF] Admin user already exists, skipping...
2025-12-20 00:02:22.143 +03:00 [INF] Email templates already exist, skipping...
2025-12-20 00:02:22.165 +03:00 [INF] Site settings already exist, skipping...
2025-12-20 00:02:22.166 +03:00 [INF] Database seeding completed successfully.
2025-12-20 00:02:22.168 +03:00 [INF] FreeStays API started at "2025-12-19T21:02:22.1678030Z"
2025-12-20 00:02:22.221 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5240: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-12-20 00:02:22.228 +03:00 [FTL] Application terminated unexpectedly
System.IO.IOException: Failed to bind to address http://127.0.0.1:5240: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Program.cs:line 308
2025-12-20 00:42:59.301 +03:00 [INF] Checking database connectivity...
2025-12-20 00:43:00.023 +03:00 [INF] Ensuring database schema exists...
2025-12-20 00:43:00.431 +03:00 [INF] Database is ready.
2025-12-20 00:43:00.556 +03:00 [INF] Admin user already exists, skipping...
2025-12-20 00:43:00.578 +03:00 [INF] Email templates already exist, skipping...
2025-12-20 00:43:00.600 +03:00 [INF] Site settings already exist, skipping...
2025-12-20 00:43:00.601 +03:00 [INF] Database seeding completed successfully.
2025-12-20 00:43:00.603 +03:00 [INF] FreeStays API started at "2025-12-19T21:43:00.6031640Z"
2025-12-20 00:43:00.648 +03:00 [INF] Starting Hangfire Server using job storage: 'In-Memory Storage'
2025-12-20 00:43:00.649 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-12-20 00:43:00.655 +03:00 [INF] Server macbookair:1727:ab33af6a successfully announced in 0,662 ms
2025-12-20 00:43:00.656 +03:00 [INF] Server macbookair:1727:ab33af6a is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-12-20 00:43:00.659 +03:00 [INF] Server macbookair:1727:ab33af6a all the dispatchers started
2025-12-20 00:47:21.699 +03:00 [INF] Server macbookair:1727:ab33af6a caught stopping signal...
2025-12-20 00:47:21.718 +03:00 [INF] Server macbookair:1727:ab33af6a All dispatchers stopped
2025-12-20 00:47:21.735 +03:00 [INF] Server macbookair:1727:ab33af6a successfully reported itself as stopped in 6,3816 ms
2025-12-20 00:47:21.736 +03:00 [INF] Server macbookair:1727:ab33af6a has been stopped in total 29,4548 ms
ist, skipping...
2025-12-20 00:45:37.982 +03:00 [INF] Database seeding completed successfully.
2025-12-20 00:45:37.984 +03:00 [INF] FreeStays API started at "2025-12-19T21:45:37.9844830Z"
2025-12-20 00:45:38.028 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5240: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-12-20 00:45:38.034 +03:00 [FTL] Application terminated unexpectedly
System.IO.IOException: Failed to bind to address http://127.0.0.1:5240: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Program.cs:line 308
2025-12-20 00:45:56.693 +03:00 [INF] Checking database connectivity...
2025-12-20 00:45:57.337 +03:00 [INF] Ensuring database schema exists...
2025-12-20 00:45:57.750 +03:00 [INF] Database is ready.
2025-12-20 00:45:57.874 +03:00 [INF] Admin user already exists, skipping...
2025-12-20 00:45:57.896 +03:00 [INF] Email templates already exist, skipping...
2025-12-20 00:45:57.917 +03:00 [INF] Site settings already exist, skipping...
2025-12-20 00:45:57.917 +03:00 [INF] Database seeding completed successfully.
2025-12-20 00:45:57.919 +03:00 [INF] FreeStays API started at "2025-12-19T21:45:57.9196690Z"
2025-12-20 00:45:57.957 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5240: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-12-20 00:45:57.962 +03:00 [FTL] Application terminated unexpectedly
System.IO.IOException: Failed to bind to address http://127.0.0.1:5240: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Program.cs:line 308
2025-12-20 00:47:30.947 +03:00 [INF] Checking database connectivity...
2025-12-20 00:47:31.588 +03:00 [INF] Ensuring database schema exists...
2025-12-20 00:47:31.997 +03:00 [INF] Database is ready.
2025-12-20 00:47:32.119 +03:00 [INF] Admin user already exists, skipping...
2025-12-20 00:47:32.140 +03:00 [INF] Email templates already exist, skipping...
2025-12-20 00:47:32.162 +03:00 [INF] Site settings already exist, skipping...
2025-12-20 00:47:32.162 +03:00 [INF] Database seeding completed successfully.
2025-12-20 00:47:32.165 +03:00 [INF] FreeStays API started at "2025-12-19T21:47:32.1647070Z"
2025-12-20 00:47:32.201 +03:00 [INF] Starting Hangfire Server using job storage: 'In-Memory Storage'
2025-12-20 00:47:32.201 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-12-20 00:47:32.207 +03:00 [INF] Server macbookair:2414:2aaa3682 successfully announced in 0,4743 ms
2025-12-20 00:47:32.208 +03:00 [INF] Server macbookair:2414:2aaa3682 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-12-20 00:47:32.210 +03:00 [INF] Server macbookair:2414:2aaa3682 all the dispatchers started
2025-12-20 00:50:26.496 +03:00 [WRN] Failed to determine the https port for redirect.
2025-12-20 00:50:26.569 +03:00 [INF] FreeStays Request: GetFeaturedHotelsQuery {"Count":10,"$type":"GetFeaturedHotelsQuery"}
2025-12-20 00:50:26.780 +03:00 [INF] HTTP GET /api/v1/hotels/featured responded 200 in 285.5073 ms
2025-12-20 00:50:38.619 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 00:50:38.619 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 00:50:38.635 +03:00 [INF] FreeStays Request: GetDashboardQuery {"$type":"GetDashboardQuery"}
2025-12-20 00:50:38.635 +03:00 [INF] FreeStays Request: GetDashboardQuery {"$type":"GetDashboardQuery"}
2025-12-20 00:50:38.824 +03:00 [INF] HTTP GET /api/v1/admin/dashboard responded 200 in 265.2029 ms
2025-12-20 00:50:38.939 +03:00 [INF] HTTP GET /api/v1/admin/dashboard responded 200 in 379.7518 ms
2025-12-20 00:53:40.710 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 00:53:40.710 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 00:53:40.724 +03:00 [INF] FreeStays Request: GetDashboardQuery {"$type":"GetDashboardQuery"}
2025-12-20 00:53:40.724 +03:00 [INF] FreeStays Request: GetDashboardQuery {"$type":"GetDashboardQuery"}
2025-12-20 00:53:40.853 +03:00 [INF] HTTP GET /api/v1/admin/dashboard responded 200 in 152.9434 ms
2025-12-20 00:53:41.032 +03:00 [INF] HTTP GET /api/v1/admin/dashboard responded 200 in 331.8409 ms
2025-12-20 00:53:56.146 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 00:53:56.146 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 00:53:56.176 +03:00 [INF] FreeStays Request: GetAllStaticPagesQuery {"$type":"GetAllStaticPagesQuery"}
2025-12-20 00:53:56.176 +03:00 [INF] FreeStays Request: GetAllStaticPagesQuery {"$type":"GetAllStaticPagesQuery"}
2025-12-20 00:53:56.279 +03:00 [INF] HTTP GET /api/v1/admin/pages responded 200 in 137.4272 ms
2025-12-20 00:53:56.279 +03:00 [INF] HTTP GET /api/v1/admin/pages responded 200 in 137.4260 ms
2025-12-20 00:54:04.359 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 00:54:04.410 +03:00 [INF] FreeStays Request: UpdateStaticPageCommand {"Id":"1fb31191-9a5a-40d6-a2dd-95fd79d576ea","Slug":"privacy-policy","IsActive":true,"Translations":[{"Locale":"tr","Title":"Kullanım Koşulları","Content":"Deneme","MetaTitle":"Deneme","MetaDescription":"Deneme","$type":"CreateStaticPageTranslationDto"}],"$type":"UpdateStaticPageCommand"}
2025-12-20 00:54:04.584 +03:00 [ERR] FreeStays Request Error: UpdateStaticPageCommand (173 ms) {"Id":"1fb31191-9a5a-40d6-a2dd-95fd79d576ea","Slug":"privacy-policy","IsActive":true,"Translations":[{"Locale":"tr","Title":"Kullanım Koşulları","Content":"Deneme","MetaTitle":"Deneme","MetaDescription":"Deneme","$type":"CreateStaticPageTranslationDto"}],"$type":"UpdateStaticPageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Pages.Commands.UpdateStaticPageCommandHandler.Handle(UpdateStaticPageCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Pages/Commands/UpdateStaticPageCommand.cs:line 85
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
2025-12-20 00:54:04.595 +03:00 [ERR] HTTP PUT /api/v1/admin/pages/1fb31191-9a5a-40d6-a2dd-95fd79d576ea responded 500 in 236.5909 ms
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Pages.Commands.UpdateStaticPageCommandHandler.Handle(UpdateStaticPageCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Pages/Commands/UpdateStaticPageCommand.cs:line 85
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
   at FreeStays.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/ValidationBehavior.cs:line 42
   at FreeStays.API.Controllers.Admin.AdminPagesController.UpdatePage(Guid id, UpdatePageRequest request) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Controllers/Admin/AdminPagesController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-20 00:54:04.601 +03:00 [ERR] Unhandled exception: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Pages.Commands.UpdateStaticPageCommandHandler.Handle(UpdateStaticPageCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Pages/Commands/UpdateStaticPageCommand.cs:line 85
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
   at FreeStays.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/ValidationBehavior.cs:line 42
   at FreeStays.API.Controllers.Admin.AdminPagesController.UpdatePage(Guid id, UpdatePageRequest request) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Controllers/Admin/AdminPagesController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at FreeStays.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Middleware/ExceptionHandlingMiddleware.cs:line 22
2025-12-20 00:59:46.831 +03:00 [INF] Server macbookair:2414:2aaa3682 caught stopping signal...
2025-12-20 00:59:46.838 +03:00 [INF] Server macbookair:2414:2aaa3682 All dispatchers stopped
2025-12-20 00:59:46.844 +03:00 [INF] Server macbookair:2414:2aaa3682 successfully reported itself as stopped in 2,761 ms
2025-12-20 00:59:46.844 +03:00 [INF] Server macbookair:2414:2aaa3682 has been stopped in total 11,228 ms
2025-12-20 00:59:59.691 +03:00 [INF] Checking database connectivity...
2025-12-20 01:00:00.365 +03:00 [INF] Ensuring database schema exists...
2025-12-20 01:00:00.781 +03:00 [INF] Database is ready.
2025-12-20 01:00:00.907 +03:00 [INF] Admin user already exists, skipping...
2025-12-20 01:00:00.930 +03:00 [INF] Email templates already exist, skipping...
2025-12-20 01:00:00.951 +03:00 [INF] Site settings already exist, skipping...
2025-12-20 01:00:00.951 +03:00 [INF] Database seeding completed successfully.
2025-12-20 01:00:00.954 +03:00 [INF] FreeStays API started at "2025-12-19T22:00:00.9542450Z"
2025-12-20 01:00:00.997 +03:00 [INF] Starting Hangfire Server using job storage: 'In-Memory Storage'
2025-12-20 01:00:00.997 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-12-20 01:00:01.003 +03:00 [INF] Server macbookair:3525:a62c9385 successfully announced in 0,4845 ms
2025-12-20 01:00:01.005 +03:00 [INF] Server macbookair:3525:a62c9385 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-12-20 01:00:01.006 +03:00 [INF] Server macbookair:3525:a62c9385 all the dispatchers started
2025-12-20 01:02:11.422 +03:00 [WRN] Failed to determine the https port for redirect.
2025-12-20 01:02:11.477 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 01:02:11.522 +03:00 [INF] FreeStays Request: UpdateStaticPageCommand {"Id":"1fb31191-9a5a-40d6-a2dd-95fd79d576ea","Slug":"privacy-policy","IsActive":true,"Translations":[{"Locale":"tr","Title":"Kullanım Koşulları","Content":"Deneme","MetaTitle":"Deneme","MetaDescription":"Deneme","$type":"CreateStaticPageTranslationDto"}],"$type":"UpdateStaticPageCommand"}
2025-12-20 01:02:11.801 +03:00 [ERR] FreeStays Request Error: UpdateStaticPageCommand (276 ms) {"Id":"1fb31191-9a5a-40d6-a2dd-95fd79d576ea","Slug":"privacy-policy","IsActive":true,"Translations":[{"Locale":"tr","Title":"Kullanım Koşulları","Content":"Deneme","MetaTitle":"Deneme","MetaDescription":"Deneme","$type":"CreateStaticPageTranslationDto"}],"$type":"UpdateStaticPageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Pages.Commands.UpdateStaticPageCommandHandler.Handle(UpdateStaticPageCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Pages/Commands/UpdateStaticPageCommand.cs:line 81
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
2025-12-20 01:02:11.810 +03:00 [ERR] HTTP PUT /api/v1/admin/pages/1fb31191-9a5a-40d6-a2dd-95fd79d576ea responded 500 in 388.4820 ms
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Pages.Commands.UpdateStaticPageCommandHandler.Handle(UpdateStaticPageCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Pages/Commands/UpdateStaticPageCommand.cs:line 81
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
   at FreeStays.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/ValidationBehavior.cs:line 42
   at FreeStays.API.Controllers.Admin.AdminPagesController.UpdatePage(Guid id, UpdatePageRequest request) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Controllers/Admin/AdminPagesController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-20 01:02:11.815 +03:00 [ERR] Unhandled exception: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Pages.Commands.UpdateStaticPageCommandHandler.Handle(UpdateStaticPageCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Pages/Commands/UpdateStaticPageCommand.cs:line 81
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
   at FreeStays.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/ValidationBehavior.cs:line 42
   at FreeStays.API.Controllers.Admin.AdminPagesController.UpdatePage(Guid id, UpdatePageRequest request) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Controllers/Admin/AdminPagesController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at FreeStays.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Middleware/ExceptionHandlingMiddleware.cs:line 22
2025-12-20 02:10:45.956 +03:00 [INF] Checking database connectivity...
2025-12-20 02:10:46.620 +03:00 [INF] Ensuring database schema exists...
2025-12-20 02:10:47.028 +03:00 [INF] Database is ready.
2025-12-20 02:10:47.153 +03:00 [INF] Admin user already exists, skipping...
2025-12-20 02:10:47.175 +03:00 [INF] Email templates already exist, skipping...
2025-12-20 02:10:47.196 +03:00 [INF] Site settings already exist, skipping...
2025-12-20 02:10:47.196 +03:00 [INF] Database seeding completed successfully.
2025-12-20 02:10:47.198 +03:00 [INF] FreeStays API started at "2025-12-19T23:10:47.1985380Z"
2025-12-20 02:10:47.239 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5240: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-12-20 02:10:47.245 +03:00 [FTL] Application terminated unexpectedly
System.IO.IOException: Failed to bind to address http://127.0.0.1:5240: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Program.cs:line 308
2025-12-20 02:12:17.937 +03:00 [INF] Checking database connectivity...
2025-12-20 02:12:18.619 +03:00 [INF] Ensuring database schema exists...
2025-12-20 02:12:19.021 +03:00 [INF] Database is ready.
2025-12-20 02:12:19.184 +03:00 [INF] Admin user already exists, skipping...
2025-12-20 02:12:19.211 +03:00 [INF] Email templates already exist, skipping...
2025-12-20 02:12:19.232 +03:00 [INF] Site settings already exist, skipping...
2025-12-20 02:12:19.232 +03:00 [INF] Database seeding completed successfully.
2025-12-20 02:12:19.235 +03:00 [INF] FreeStays API started at "2025-12-19T23:12:19.2347320Z"
2025-12-20 02:12:19.268 +03:00 [INF] Starting Hangfire Server using job storage: 'In-Memory Storage'
2025-12-20 02:12:19.269 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-12-20 02:12:19.276 +03:00 [INF] Server macbookair:4985:023ad144 successfully announced in 0,6725 ms
2025-12-20 02:12:19.277 +03:00 [INF] Server macbookair:4985:023ad144 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-12-20 02:12:19.279 +03:00 [INF] Server macbookair:4985:023ad144 all the dispatchers started
2025-12-20 02:12:24.788 +03:00 [WRN] Failed to determine the https port for redirect.
2025-12-20 02:12:24.838 +03:00 [ERR] JWT Authentication failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19.12.2025 22:14:54', Current time (UTC): '19.12.2025 23:12:24'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-20 02:12:24.845 +03:00 [WRN] JWT Authentication challenge: invalid_token, The token expired at '12/19/2025 22:14:54'
2025-12-20 02:12:24.846 +03:00 [INF] HTTP PUT /api/v1/admin/pages/1fb31191-9a5a-40d6-a2dd-95fd79d576ea responded 401 in 58.0042 ms
2025-12-20 02:12:35.626 +03:00 [INF] FreeStays Request: LoginCommand {"Email":"bilgi@teybilisim.com","Password":"20110303Tey48!.","$type":"LoginCommand"}
2025-12-20 02:12:36.290 +03:00 [WRN] FreeStays Long Running Request: LoginCommand (661 ms) {"Email":"bilgi@teybilisim.com","Password":"20110303Tey48!.","$type":"LoginCommand"}
2025-12-20 02:12:36.299 +03:00 [INF] HTTP POST /api/v1/Auth/login responded 200 in 743.8799 ms
2025-12-20 02:12:37.037 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 02:12:37.037 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 02:12:37.040 +03:00 [INF] FreeStays Request: GetDashboardQuery {"$type":"GetDashboardQuery"}
2025-12-20 02:12:37.040 +03:00 [INF] FreeStays Request: GetDashboardQuery {"$type":"GetDashboardQuery"}
2025-12-20 02:12:37.194 +03:00 [INF] HTTP GET /api/v1/admin/dashboard responded 200 in 165.9110 ms
2025-12-20 02:12:37.304 +03:00 [INF] HTTP GET /api/v1/admin/dashboard responded 200 in 275.9958 ms
2025-12-20 02:12:49.012 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 02:12:49.012 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 02:12:49.018 +03:00 [INF] FreeStays Request: GetAllStaticPagesQuery {"$type":"GetAllStaticPagesQuery"}
2025-12-20 02:12:49.018 +03:00 [INF] FreeStays Request: GetAllStaticPagesQuery {"$type":"GetAllStaticPagesQuery"}
2025-12-20 02:12:49.089 +03:00 [INF] HTTP GET /api/v1/admin/pages responded 200 in 76.6310 ms
2025-12-20 02:12:49.089 +03:00 [INF] HTTP GET /api/v1/admin/pages responded 200 in 77.1748 ms
2025-12-20 02:12:54.997 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 02:12:55.032 +03:00 [INF] FreeStays Request: UpdateStaticPageCommand {"Id":"1fb31191-9a5a-40d6-a2dd-95fd79d576ea","Slug":"privacy-policy","IsActive":true,"Translations":[{"Locale":"tr","Title":"Kullanım Koşulları","Content":"Deneme","MetaTitle":"Deneme","MetaDescription":"Deneme","$type":"CreateStaticPageTranslationDto"}],"$type":"UpdateStaticPageCommand"}
2025-12-20 02:12:55.186 +03:00 [ERR] FreeStays Request Error: UpdateStaticPageCommand (152 ms) {"Id":"1fb31191-9a5a-40d6-a2dd-95fd79d576ea","Slug":"privacy-policy","IsActive":true,"Translations":[{"Locale":"tr","Title":"Kullanım Koşulları","Content":"Deneme","MetaTitle":"Deneme","MetaDescription":"Deneme","$type":"CreateStaticPageTranslationDto"}],"$type":"UpdateStaticPageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Pages.Commands.UpdateStaticPageCommandHandler.Handle(UpdateStaticPageCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Pages/Commands/UpdateStaticPageCommand.cs:line 83
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
2025-12-20 02:12:55.192 +03:00 [ERR] HTTP PUT /api/v1/admin/pages/1fb31191-9a5a-40d6-a2dd-95fd79d576ea responded 500 in 196.5666 ms
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Pages.Commands.UpdateStaticPageCommandHandler.Handle(UpdateStaticPageCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Pages/Commands/UpdateStaticPageCommand.cs:line 83
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
   at FreeStays.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/ValidationBehavior.cs:line 42
   at FreeStays.API.Controllers.Admin.AdminPagesController.UpdatePage(Guid id, UpdatePageRequest request) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Controllers/Admin/AdminPagesController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-20 02:12:55.197 +03:00 [ERR] Unhandled exception: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Pages.Commands.UpdateStaticPageCommandHandler.Handle(UpdateStaticPageCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Pages/Commands/UpdateStaticPageCommand.cs:line 83
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
   at FreeStays.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/ValidationBehavior.cs:line 42
   at FreeStays.API.Controllers.Admin.AdminPagesController.UpdatePage(Guid id, UpdatePageRequest request) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Controllers/Admin/AdminPagesController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at FreeStays.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Middleware/ExceptionHandlingMiddleware.cs:line 22
2025-12-20 02:15:29.402 +03:00 [INF] Server macbookair:4985:023ad144 caught stopping signal...
2025-12-20 02:15:29.409 +03:00 [INF] Server macbookair:4985:023ad144 All dispatchers stopped
2025-12-20 02:15:29.412 +03:00 [INF] Server macbookair:4985:023ad144 successfully reported itself as stopped in 0,9747 ms
2025-12-20 02:15:29.412 +03:00 [INF] Server macbookair:4985:023ad144 has been stopped in total 7,3038 ms
2025-12-20 03:56:15.488 +03:00 [INF] Checking database connectivity...
2025-12-20 03:56:16.645 +03:00 [INF] Ensuring database schema exists...
2025-12-20 03:56:17.150 +03:00 [INF] Database is ready.
2025-12-20 03:56:17.279 +03:00 [INF] Admin user already exists, skipping...
2025-12-20 03:56:17.300 +03:00 [INF] Email templates already exist, skipping...
2025-12-20 03:56:17.321 +03:00 [INF] Site settings already exist, skipping...
2025-12-20 03:56:17.321 +03:00 [INF] Database seeding completed successfully.
2025-12-20 03:56:17.323 +03:00 [INF] FreeStays API started at "2025-12-20T00:56:17.3230360Z"
2025-12-20 03:56:17.367 +03:00 [INF] Starting Hangfire Server using job storage: 'In-Memory Storage'
2025-12-20 03:56:17.367 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-12-20 03:56:17.374 +03:00 [INF] Server macbookair:5756:ed0017f3 successfully announced in 0,6605 ms
2025-12-20 03:56:17.375 +03:00 [INF] Server macbookair:5756:ed0017f3 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-12-20 03:56:17.378 +03:00 [INF] Server macbookair:5756:ed0017f3 all the dispatchers started
2025-12-20 03:56:20.795 +03:00 [WRN] Failed to determine the https port for redirect.
2025-12-20 03:56:20.859 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 03:56:20.908 +03:00 [INF] FreeStays Request: UpdateStaticPageCommand {"Id":"1fb31191-9a5a-40d6-a2dd-95fd79d576ea","Slug":"privacy-policy","IsActive":true,"Translations":[{"Locale":"tr","Title":"Kullanım Koşulları","Content":"Deneme","MetaTitle":"Deneme","MetaDescription":"Deneme","$type":"CreateStaticPageTranslationDto"}],"$type":"UpdateStaticPageCommand"}
2025-12-20 03:56:21.227 +03:00 [INF] HTTP PUT /api/v1/admin/pages/1fb31191-9a5a-40d6-a2dd-95fd79d576ea responded 200 in 433.4960 ms
2025-12-20 03:56:21.244 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 03:56:21.248 +03:00 [INF] FreeStays Request: GetAllStaticPagesQuery {"$type":"GetAllStaticPagesQuery"}
2025-12-20 03:56:21.300 +03:00 [INF] HTTP GET /api/v1/admin/pages responded 200 in 58.1758 ms
2025-12-20 03:56:27.542 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 03:56:27.543 +03:00 [INF] FreeStays Request: GetAllStaticPagesQuery {"$type":"GetAllStaticPagesQuery"}
2025-12-20 03:56:27.547 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 03:56:27.548 +03:00 [INF] FreeStays Request: GetAllStaticPagesQuery {"$type":"GetAllStaticPagesQuery"}
2025-12-20 03:56:27.577 +03:00 [INF] HTTP GET /api/v1/admin/pages responded 200 in 36.2670 ms
2025-12-20 03:56:27.723 +03:00 [INF] HTTP GET /api/v1/admin/pages responded 200 in 175.9358 ms
2025-12-20 03:56:59.655 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 03:56:59.666 +03:00 [INF] FreeStays Request: UpdateStaticPageCommand {"Id":"1fb31191-9a5a-40d6-a2dd-95fd79d576ea","Slug":"privacy-policy","IsActive":true,"Translations":[{"Locale":"tr","Title":"Kullanım Koşulları","Content":"Deneme","MetaTitle":"Deneme","MetaDescription":"Deneme","$type":"CreateStaticPageTranslationDto"},{"Locale":"en","Title":"Privacy and Policy","Content":"Privacy and Policy","MetaTitle":"Privacy and Policy","MetaDescription":"Privacy and Policy","$type":"CreateStaticPageTranslationDto"}],"$type":"UpdateStaticPageCommand"}
2025-12-20 03:56:59.806 +03:00 [INF] HTTP PUT /api/v1/admin/pages/1fb31191-9a5a-40d6-a2dd-95fd79d576ea responded 200 in 153.1442 ms
2025-12-20 03:56:59.813 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 03:56:59.814 +03:00 [INF] FreeStays Request: GetAllStaticPagesQuery {"$type":"GetAllStaticPagesQuery"}
2025-12-20 03:56:59.836 +03:00 [INF] HTTP GET /api/v1/admin/pages responded 200 in 23.9608 ms
2025-12-20 04:05:39.370 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:05:39.370 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:05:39.430 +03:00 [INF] FreeStays Request: GetAllEmailTemplatesQuery {"IsActive":null,"$type":"GetAllEmailTemplatesQuery"}
2025-12-20 04:05:39.430 +03:00 [INF] FreeStays Request: GetAllEmailTemplatesQuery {"IsActive":null,"$type":"GetAllEmailTemplatesQuery"}
2025-12-20 04:05:39.670 +03:00 [INF] HTTP GET /api/v1/admin/email-templates responded 200 in 306.2001 ms
2025-12-20 04:05:39.670 +03:00 [INF] HTTP GET /api/v1/admin/email-templates responded 200 in 307.4539 ms
2025-12-20 04:06:12.833 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:06:12.836 +03:00 [INF] FreeStays Request: GetAllEmailTemplatesQuery {"IsActive":null,"$type":"GetAllEmailTemplatesQuery"}
2025-12-20 04:06:12.837 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:06:12.838 +03:00 [INF] FreeStays Request: GetAllEmailTemplatesQuery {"IsActive":null,"$type":"GetAllEmailTemplatesQuery"}
2025-12-20 04:06:12.866 +03:00 [INF] HTTP GET /api/v1/admin/email-templates responded 200 in 33.5838 ms
2025-12-20 04:06:12.866 +03:00 [INF] HTTP GET /api/v1/admin/email-templates responded 200 in 28.6683 ms
2025-12-20 04:06:21.606 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:06:21.607 +03:00 [INF] FreeStays Request: GetAllEmailTemplatesQuery {"IsActive":null,"$type":"GetAllEmailTemplatesQuery"}
2025-12-20 04:06:21.612 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:06:21.612 +03:00 [INF] FreeStays Request: GetAllEmailTemplatesQuery {"IsActive":null,"$type":"GetAllEmailTemplatesQuery"}
2025-12-20 04:06:21.638 +03:00 [INF] HTTP GET /api/v1/admin/email-templates responded 200 in 31.7188 ms
2025-12-20 04:06:21.638 +03:00 [INF] HTTP GET /api/v1/admin/email-templates responded 200 in 25.6163 ms
2025-12-20 04:06:44.911 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:06:44.913 +03:00 [INF] FreeStays Request: GetAllEmailTemplatesQuery {"IsActive":null,"$type":"GetAllEmailTemplatesQuery"}
2025-12-20 04:06:44.915 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:06:44.915 +03:00 [INF] FreeStays Request: GetAllEmailTemplatesQuery {"IsActive":null,"$type":"GetAllEmailTemplatesQuery"}
2025-12-20 04:06:44.938 +03:00 [INF] HTTP GET /api/v1/admin/email-templates responded 200 in 23.0652 ms
2025-12-20 04:06:44.938 +03:00 [INF] HTTP GET /api/v1/admin/email-templates responded 200 in 27.9829 ms
2025-12-20 04:07:50.786 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:07:50.788 +03:00 [INF] HTTP POST /api/v1/admin/email-templates/welcome/test responded 404 in 6.1807 ms
2025-12-20 04:10:53.393 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:10:53.418 +03:00 [INF] HTTP GET /api/v1/admin/services responded 200 in 29.0627 ms
2025-12-20 04:12:17.795 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:12:17.798 +03:00 [INF] HTTP GET /api/v1/admin/services responded 200 in 4.2573 ms
2025-12-20 04:12:17.799 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:12:17.799 +03:00 [INF] HTTP GET /api/v1/admin/services responded 200 in 0.9191 ms
2025-12-20 04:12:24.351 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:12:24.351 +03:00 [INF] HTTP GET /api/v1/admin/services responded 200 in 1.1244 ms
2025-12-20 04:12:28.006 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:12:28.006 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:12:28.009 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:12:28.009 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:12:28.345 +03:00 [INF] HTTP GET /api/v1/admin/jobs/history responded 200 in 340.6539 ms
2025-12-20 04:12:28.345 +03:00 [INF] HTTP GET /api/v1/admin/jobs/history responded 200 in 337.1393 ms
2025-12-20 04:12:30.032 +03:00 [INF] HTTP GET /api/v1/sunhotels/statistics responded 200 in 2027.3442 ms
2025-12-20 04:12:30.032 +03:00 [INF] HTTP GET /api/v1/sunhotels/statistics responded 200 in 2023.7684 ms
2025-12-20 04:12:47.899 +03:00 [ERR] JWT Authentication failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.12.2025 01:12:36', Current time (UTC): '20.12.2025 01:12:47'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-20 04:12:47.899 +03:00 [ERR] JWT Authentication failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.12.2025 01:12:36', Current time (UTC): '20.12.2025 01:12:47'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-20 04:12:47.913 +03:00 [WRN] JWT Authentication challenge: invalid_token, The token expired at '12/20/2025 01:12:36'
2025-12-20 04:12:47.913 +03:00 [WRN] JWT Authentication challenge: invalid_token, The token expired at '12/20/2025 01:12:36'
2025-12-20 04:12:47.913 +03:00 [INF] HTTP GET /api/v1/admin/services responded 401 in 17.5951 ms
2025-12-20 04:12:47.913 +03:00 [INF] HTTP GET /api/v1/admin/services responded 401 in 17.2578 ms
2025-12-20 04:12:56.663 +03:00 [INF] FreeStays Request: LoginCommand {"Email":"bilgi@teybilisim.com","Password":"20110303Tey48!.","$type":"LoginCommand"}
2025-12-20 04:12:57.130 +03:00 [INF] HTTP POST /api/v1/Auth/login responded 200 in 479.2290 ms
2025-12-20 04:12:57.710 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:12:57.710 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:12:57.723 +03:00 [INF] FreeStays Request: GetDashboardQuery {"$type":"GetDashboardQuery"}
2025-12-20 04:12:57.723 +03:00 [INF] FreeStays Request: GetDashboardQuery {"$type":"GetDashboardQuery"}
2025-12-20 04:12:57.833 +03:00 [INF] HTTP GET /api/v1/admin/dashboard responded 200 in 127.1579 ms
2025-12-20 04:12:57.833 +03:00 [INF] HTTP GET /api/v1/admin/dashboard responded 200 in 126.5397 ms
2025-12-20 04:19:45.133 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:19:45.133 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:19:45.150 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 04:19:45.150 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 04:19:45.363 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 234.2240 ms
2025-12-20 04:19:45.363 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 234.2252 ms
2025-12-20 04:20:18.024 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:20:18.024 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:20:18.026 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 04:20:18.026 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 04:20:18.059 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 38.2269 ms
2025-12-20 04:20:18.059 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 38.1698 ms
2025-12-20 04:20:20.174 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:20:20.175 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 04:20:20.177 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:20:20.178 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 04:20:20.199 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 25.1853 ms
2025-12-20 04:20:20.199 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 21.8766 ms
2025-12-20 04:23:18.323 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:23:18.359 +03:00 [INF] FreeStays Request: GetPaymentSettingsQuery {"$type":"GetPaymentSettingsQuery"}
2025-12-20 04:23:18.405 +03:00 [INF] HTTP GET /api/v1/admin/settings/payment responded 200 in 84.1658 ms
2025-12-20 04:30:27.751 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:30:27.751 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:30:27.759 +03:00 [INF] FreeStays Request: GetPaymentSettingsQuery {"$type":"GetPaymentSettingsQuery"}
2025-12-20 04:30:27.759 +03:00 [INF] FreeStays Request: GetPaymentSettingsQuery {"$type":"GetPaymentSettingsQuery"}
2025-12-20 04:30:27.945 +03:00 [INF] HTTP GET /api/v1/admin/settings/payment responded 200 in 198.2733 ms
2025-12-20 04:30:27.945 +03:00 [INF] HTTP GET /api/v1/admin/settings/payment responded 200 in 195.8837 ms
2025-12-20 04:39:30.067 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:39:30.125 +03:00 [INF] HTTP POST /api/v1/admin/settings/payment/test-connection responded 200 in 67.7604 ms
2025-12-20 04:39:38.632 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:39:38.633 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 04:39:38.634 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:39:38.634 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 04:39:38.808 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 174.6025 ms
2025-12-20 04:39:38.808 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 176.7012 ms
2025-12-20 04:39:50.506 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:39:50.506 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:39:50.508 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 04:39:50.508 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 04:39:50.553 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 47.9248 ms
2025-12-20 04:39:50.553 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 47.0909 ms
2025-12-20 04:40:29.746 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:40:29.746 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:40:29.747 +03:00 [INF] HTTP GET /api/v1/admin/services responded 200 in 0.6364 ms
2025-12-20 04:40:29.747 +03:00 [INF] HTTP GET /api/v1/admin/services responded 200 in 1.8861 ms
2025-12-20 04:40:32.598 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:40:32.599 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:40:32.599 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:40:32.599 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:40:32.602 +03:00 [INF] HTTP GET /api/v1/sunhotels/statistics responded 200 in 4.5371 ms
2025-12-20 04:40:32.602 +03:00 [INF] HTTP GET /api/v1/sunhotels/statistics responded 200 in 3.0447 ms
2025-12-20 04:40:32.652 +03:00 [INF] HTTP GET /api/v1/admin/jobs/history responded 200 in 54.7191 ms
2025-12-20 04:40:32.652 +03:00 [INF] HTTP GET /api/v1/admin/jobs/history responded 200 in 52.8133 ms
2025-12-20 04:46:02.343 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:46:02.343 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:46:02.345 +03:00 [INF] FreeStays Request: GetAllEmailTemplatesQuery {"IsActive":null,"$type":"GetAllEmailTemplatesQuery"}
2025-12-20 04:46:02.345 +03:00 [INF] FreeStays Request: GetAllEmailTemplatesQuery {"IsActive":null,"$type":"GetAllEmailTemplatesQuery"}
2025-12-20 04:46:02.531 +03:00 [INF] HTTP GET /api/v1/admin/email-templates responded 200 in 191.9647 ms
2025-12-20 04:46:02.531 +03:00 [INF] HTTP GET /api/v1/admin/email-templates responded 200 in 191.9647 ms
2025-12-20 04:46:23.264 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:46:23.264 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:46:23.264 +03:00 [INF] HTTP GET /api/v1/admin/services responded 200 in 0.8721 ms
2025-12-20 04:46:23.264 +03:00 [INF] HTTP GET /api/v1/admin/services responded 200 in 0.5478 ms
2025-12-20 04:46:25.782 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:46:25.783 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:46:25.784 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:46:25.784 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:46:25.834 +03:00 [INF] HTTP GET /api/v1/admin/jobs/history responded 200 in 49.9853 ms
2025-12-20 04:46:25.834 +03:00 [INF] HTTP GET /api/v1/admin/jobs/history responded 200 in 51.4971 ms
2025-12-20 04:46:27.030 +03:00 [INF] HTTP GET /api/v1/sunhotels/statistics responded 200 in 1248.1747 ms
2025-12-20 04:46:27.133 +03:00 [INF] HTTP GET /api/v1/sunhotels/statistics responded 200 in 1349.3464 ms
2025-12-20 04:46:44.805 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:46:44.805 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:46:44.826 +03:00 [INF] FreeStays Request: GetAllCouponsQuery {"Page":1,"PageSize":20,"IsActive":null,"$type":"GetAllCouponsQuery"}
2025-12-20 04:46:44.826 +03:00 [INF] FreeStays Request: GetAllCouponsQuery {"Page":1,"PageSize":20,"IsActive":null,"$type":"GetAllCouponsQuery"}
2025-12-20 04:46:44.935 +03:00 [INF] HTTP GET /api/v1/admin/coupons responded 200 in 130.4336 ms
2025-12-20 04:46:44.935 +03:00 [INF] HTTP GET /api/v1/admin/coupons responded 200 in 130.7762 ms
2025-12-20 04:48:37.333 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:48:37.419 +03:00 [INF] FreeStays Request: GetAllBookingsQuery {"Page":1,"PageSize":20,"Status":null,"Type":null,"FromDate":null,"ToDate":null,"$type":"GetAllBookingsQuery"}
2025-12-20 04:48:37.475 +03:00 [INF] HTTP GET /api/v1/admin/bookings responded 200 in 147.5503 ms
2025-12-20 04:48:49.519 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:48:49.521 +03:00 [INF] FreeStays Request: GetAllBookingsQuery {"Page":1,"PageSize":20,"Status":null,"Type":null,"FromDate":null,"ToDate":null,"$type":"GetAllBookingsQuery"}
2025-12-20 04:48:49.534 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:48:49.535 +03:00 [INF] FreeStays Request: GetAllBookingsQuery {"Page":1,"PageSize":20,"Status":null,"Type":null,"FromDate":null,"ToDate":null,"$type":"GetAllBookingsQuery"}
2025-12-20 04:48:49.542 +03:00 [INF] HTTP GET /api/v1/admin/bookings responded 200 in 23.0742 ms
2025-12-20 04:48:49.570 +03:00 [INF] HTTP GET /api/v1/admin/bookings responded 200 in 36.4630 ms
2025-12-20 04:48:50.389 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:48:50.390 +03:00 [INF] FreeStays Request: GetAllBookingsQuery {"Page":1,"PageSize":20,"Status":null,"Type":null,"FromDate":null,"ToDate":null,"$type":"GetAllBookingsQuery"}
2025-12-20 04:48:50.399 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:48:50.400 +03:00 [INF] FreeStays Request: GetAllBookingsQuery {"Page":1,"PageSize":20,"Status":null,"Type":null,"FromDate":null,"ToDate":null,"$type":"GetAllBookingsQuery"}
2025-12-20 04:48:50.412 +03:00 [INF] HTTP GET /api/v1/admin/bookings responded 200 in 24.7523 ms
2025-12-20 04:48:50.420 +03:00 [INF] HTTP GET /api/v1/admin/bookings responded 200 in 21.3549 ms
2025-12-20 04:49:13.557 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:49:13.560 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:49:13.560 +03:00 [INF] FreeStays Request: GetAllBookingsQuery {"Page":1,"PageSize":20,"Status":null,"Type":null,"FromDate":null,"ToDate":null,"$type":"GetAllBookingsQuery"}
2025-12-20 04:49:13.560 +03:00 [INF] FreeStays Request: GetAllBookingsQuery {"Page":1,"PageSize":20,"Status":null,"Type":null,"FromDate":null,"ToDate":null,"$type":"GetAllBookingsQuery"}
2025-12-20 04:49:13.600 +03:00 [INF] HTTP GET /api/v1/admin/bookings responded 200 in 41.7577 ms
2025-12-20 04:49:13.600 +03:00 [INF] HTTP GET /api/v1/admin/bookings responded 200 in 50.8329 ms
2025-12-20 04:52:25.757 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:52:25.760 +03:00 [INF] FreeStays Request: GetAllBookingsQuery {"Page":1,"PageSize":20,"Status":null,"Type":null,"FromDate":null,"ToDate":null,"$type":"GetAllBookingsQuery"}
2025-12-20 04:52:25.761 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 04:52:25.762 +03:00 [INF] FreeStays Request: GetAllBookingsQuery {"Page":1,"PageSize":20,"Status":null,"Type":null,"FromDate":null,"ToDate":null,"$type":"GetAllBookingsQuery"}
2025-12-20 04:52:25.953 +03:00 [INF] HTTP GET /api/v1/admin/bookings responded 200 in 192.1894 ms
2025-12-20 04:52:25.953 +03:00 [INF] HTTP GET /api/v1/admin/bookings responded 200 in 196.7164 ms
2025-12-20 04:55:46.783 +03:00 [INF] FreeStays Request: GetFeaturedHotelsQuery {"Count":10,"$type":"GetFeaturedHotelsQuery"}
2025-12-20 04:55:46.860 +03:00 [INF] HTTP GET /api/v1/hotels/featured responded 200 in 93.9420 ms
2025-12-20 05:02:19.756 +03:00 [INF] Server macbookair:5756:ed0017f3 caught stopping signal...
2025-12-20 05:02:19.796 +03:00 [INF] Server macbookair:5756:ed0017f3 All dispatchers stopped
2025-12-20 05:02:19.800 +03:00 [INF] Server macbookair:5756:ed0017f3 successfully reported itself as stopped in 2,4938 ms
2025-12-20 05:02:19.800 +03:00 [INF] Server macbookair:5756:ed0017f3 has been stopped in total 41,2713 ms
2025-12-20 05:16:13.726 +03:00 [INF] Checking database connectivity...
2025-12-20 05:16:14.381 +03:00 [INF] Ensuring database schema exists...
2025-12-20 05:16:14.828 +03:00 [INF] Database is ready.
2025-12-20 05:16:14.959 +03:00 [INF] Admin user already exists, skipping...
2025-12-20 05:16:14.983 +03:00 [INF] Email templates already exist, skipping...
2025-12-20 05:16:15.004 +03:00 [INF] Site settings already exist, skipping...
2025-12-20 05:16:15.005 +03:00 [INF] Database seeding completed successfully.
2025-12-20 05:16:15.007 +03:00 [INF] FreeStays API started at "2025-12-20T02:16:15.0070170Z"
2025-12-20 05:16:15.047 +03:00 [INF] Starting Hangfire Server using job storage: 'In-Memory Storage'
2025-12-20 05:16:15.048 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-12-20 05:16:15.054 +03:00 [INF] Server macbookair:8332:ee857423 successfully announced in 0,4897 ms
2025-12-20 05:16:15.055 +03:00 [INF] Server macbookair:8332:ee857423 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-12-20 05:16:15.057 +03:00 [INF] Server macbookair:8332:ee857423 all the dispatchers started
2025-12-20 05:21:47.384 +03:00 [WRN] Failed to determine the https port for redirect.
2025-12-20 05:21:47.472 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 05:21:47.472 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 05:21:47.514 +03:00 [INF] FreeStays Request: GetAllBookingsQuery {"Page":1,"PageSize":20,"Status":null,"Type":null,"FromDate":null,"ToDate":null,"$type":"GetAllBookingsQuery"}
2025-12-20 05:21:47.514 +03:00 [INF] FreeStays Request: GetAllBookingsQuery {"Page":1,"PageSize":20,"Status":null,"Type":null,"FromDate":null,"ToDate":null,"$type":"GetAllBookingsQuery"}
2025-12-20 05:21:47.822 +03:00 [INF] HTTP GET /api/v1/admin/bookings responded 200 in 438.9938 ms
2025-12-20 05:21:47.822 +03:00 [INF] HTTP GET /api/v1/admin/bookings responded 200 in 438.9916 ms
2025-12-20 05:23:29.523 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 05:23:29.523 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 05:23:29.539 +03:00 [INF] HTTP GET /api/v1/admin/faqs responded 403 in 35.0612 ms
2025-12-20 05:23:29.539 +03:00 [INF] HTTP GET /api/v1/admin/faqs responded 403 in 35.0586 ms
2025-12-20 05:49:14.707 +03:00 [INF] Server macbookair:8332:ee857423 caught stopping signal...
2025-12-20 05:49:14.719 +03:00 [INF] Server macbookair:8332:ee857423 All dispatchers stopped
2025-12-20 05:49:14.724 +03:00 [INF] Server macbookair:8332:ee857423 successfully reported itself as stopped in 1,6302 ms
2025-12-20 05:49:14.724 +03:00 [INF] Server macbookair:8332:ee857423 has been stopped in total 13,8355 ms
2025-12-20 05:54:54.340 +03:00 [INF] Checking database connectivity...
2025-12-20 05:54:55.023 +03:00 [INF] Ensuring database schema exists...
2025-12-20 05:54:55.461 +03:00 [INF] Database is ready.
2025-12-20 05:54:55.589 +03:00 [INF] Admin user already exists, skipping...
2025-12-20 05:54:55.611 +03:00 [INF] Email templates already exist, skipping...
2025-12-20 05:54:55.632 +03:00 [INF] Site settings already exist, skipping...
2025-12-20 05:54:55.632 +03:00 [INF] Database seeding completed successfully.
2025-12-20 05:54:55.634 +03:00 [INF] FreeStays API started at "2025-12-20T02:54:55.6343830Z"
2025-12-20 05:54:55.674 +03:00 [INF] Starting Hangfire Server using job storage: 'In-Memory Storage'
2025-12-20 05:54:55.675 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-12-20 05:54:55.680 +03:00 [INF] Server macbookair:11705:150d3848 successfully announced in 0,4685 ms
2025-12-20 05:54:55.681 +03:00 [INF] Server macbookair:11705:150d3848 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-12-20 05:54:55.683 +03:00 [INF] Server macbookair:11705:150d3848 all the dispatchers started
2025-12-20 05:57:52.061 +03:00 [WRN] Failed to determine the https port for redirect.
2025-12-20 05:57:52.136 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 05:57:52.136 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 05:57:52.141 +03:00 [INF] HTTP GET /api/v1/admin/faqs responded 403 in 81.8904 ms
2025-12-20 05:57:52.141 +03:00 [INF] HTTP GET /api/v1/admin/faqs responded 403 in 82.0280 ms
2025-12-20 05:59:14.813 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 05:59:14.813 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 05:59:14.818 +03:00 [INF] HTTP GET /api/v1/admin/faqs responded 403 in 18.2205 ms
2025-12-20 05:59:14.818 +03:00 [INF] HTTP GET /api/v1/admin/faqs responded 403 in 18.2201 ms
2025-12-20 05:59:25.458 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 05:59:25.459 +03:00 [INF] HTTP GET /api/v1/admin/faqs responded 403 in 3.0249 ms
2025-12-20 05:59:25.460 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 05:59:25.460 +03:00 [INF] HTTP GET /api/v1/admin/faqs responded 403 in 0.8176 ms
2025-12-20 06:02:10.789 +03:00 [INF] Checking database connectivity...
2025-12-20 06:02:11.519 +03:00 [INF] Ensuring database schema exists...
2025-12-20 06:02:11.908 +03:00 [INF] Database is ready.
2025-12-20 06:02:12.036 +03:00 [INF] Admin user already exists, skipping...
2025-12-20 06:02:12.058 +03:00 [INF] Email templates already exist, skipping...
2025-12-20 06:02:12.079 +03:00 [INF] Site settings already exist, skipping...
2025-12-20 06:02:12.079 +03:00 [INF] Database seeding completed successfully.
2025-12-20 06:02:12.081 +03:00 [INF] FreeStays API started at "2025-12-20T03:02:12.0813720Z"
2025-12-20 06:02:12.275 +03:00 [INF] Starting Hangfire Server using job storage: 'In-Memory Storage'
2025-12-20 06:02:12.276 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-12-20 06:02:12.282 +03:00 [INF] Server macbookair:12227:afe5444f successfully announced in 0,514 ms
2025-12-20 06:02:12.284 +03:00 [INF] Server macbookair:12227:afe5444f is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-12-20 06:02:12.287 +03:00 [INF] Server macbookair:12227:afe5444f all the dispatchers started
2025-12-20 06:02:17.060 +03:00 [WRN] Failed to determine the https port for redirect.
2025-12-20 06:02:17.203 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:02:17.203 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:02:17.212 +03:00 [INF] HTTP GET /api/v1/admin/faqs responded 403 in 151.3705 ms
2025-12-20 06:02:17.213 +03:00 [INF] HTTP GET /api/v1/admin/faqs responded 403 in 150.9582 ms
2025-12-20 06:02:29.151 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:02:29.151 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:02:29.158 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 19.7590 ms
2025-12-20 06:02:29.158 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 20.9630 ms
2025-12-20 06:02:33.848 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:02:33.848 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:02:33.896 +03:00 [INF] FreeStays Request: GetAllBookingsQuery {"Page":1,"PageSize":20,"Status":null,"Type":null,"FromDate":null,"ToDate":null,"$type":"GetAllBookingsQuery"}
2025-12-20 06:02:33.896 +03:00 [INF] FreeStays Request: GetAllBookingsQuery {"Page":1,"PageSize":20,"Status":null,"Type":null,"FromDate":null,"ToDate":null,"$type":"GetAllBookingsQuery"}
2025-12-20 06:02:34.053 +03:00 [INF] HTTP GET /api/v1/admin/bookings responded 200 in 207.5604 ms
2025-12-20 06:02:34.170 +03:00 [INF] HTTP GET /api/v1/admin/bookings responded 200 in 324.0168 ms
2025-12-20 06:03:04.588 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:03:04.588 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:03:04.589 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 2.1185 ms
2025-12-20 06:03:04.589 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 2.3443 ms
2025-12-20 06:05:05.964 +03:00 [INF] Server macbookair:12227:afe5444f caught stopping signal...
2025-12-20 06:05:05.968 +03:00 [INF] Server macbookair:12227:afe5444f All dispatchers stopped
2025-12-20 06:05:05.970 +03:00 [INF] Server macbookair:12227:afe5444f successfully reported itself as stopped in 0,5109 ms
2025-12-20 06:05:05.970 +03:00 [INF] Server macbookair:12227:afe5444f has been stopped in total 4,7632 ms
, skipping...
2025-12-20 06:04:58.799 +03:00 [INF] Database seeding completed successfully.
2025-12-20 06:04:58.800 +03:00 [INF] FreeStays API started at "2025-12-20T03:04:58.8007300Z"
2025-12-20 06:04:58.846 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5240: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-12-20 06:04:58.852 +03:00 [FTL] Application terminated unexpectedly
System.IO.IOException: Failed to bind to address http://127.0.0.1:5240: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Program.cs:line 308
2025-12-20 06:05:10.421 +03:00 [INF] Checking database connectivity...
2025-12-20 06:05:11.106 +03:00 [INF] Ensuring database schema exists...
2025-12-20 06:05:11.504 +03:00 [INF] Database is ready.
2025-12-20 06:05:11.653 +03:00 [INF] Admin user already exists, skipping...
2025-12-20 06:05:11.680 +03:00 [INF] Email templates already exist, skipping...
2025-12-20 06:05:11.701 +03:00 [INF] Site settings already exist, skipping...
2025-12-20 06:05:11.702 +03:00 [INF] Database seeding completed successfully.
2025-12-20 06:05:11.704 +03:00 [INF] FreeStays API started at "2025-12-20T03:05:11.7038050Z"
2025-12-20 06:05:11.738 +03:00 [INF] Starting Hangfire Server using job storage: 'In-Memory Storage'
2025-12-20 06:05:11.739 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-12-20 06:05:11.746 +03:00 [INF] Server macbookair:12873:e9818442 successfully announced in 0,5144 ms
2025-12-20 06:05:11.747 +03:00 [INF] Server macbookair:12873:e9818442 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-12-20 06:05:11.748 +03:00 [INF] Server macbookair:12873:e9818442 all the dispatchers started
2025-12-20 06:05:30.968 +03:00 [WRN] Failed to determine the https port for redirect.
2025-12-20 06:05:31.030 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:05:31.030 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:05:31.034 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 68.3382 ms
2025-12-20 06:05:31.034 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 68.2922 ms
2025-12-20 06:06:22.051 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:06:22.051 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:06:22.055 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 19.2808 ms
2025-12-20 06:06:22.055 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 13.2578 ms
2025-12-20 06:09:21.827 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:09:21.823 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:09:21.831 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 60.8512 ms
2025-12-20 06:09:21.839 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 67.8472 ms
2025-12-20 06:22:16.683 +03:00 [ERR] JWT Authentication failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.12.2025 03:12:57', Current time (UTC): '20.12.2025 03:22:16'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-20 06:22:16.683 +03:00 [ERR] JWT Authentication failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.12.2025 03:12:57', Current time (UTC): '20.12.2025 03:22:16'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-20 06:22:16.709 +03:00 [WRN] JWT Authentication challenge: invalid_token, The token expired at '12/20/2025 03:12:57'
2025-12-20 06:22:16.709 +03:00 [WRN] JWT Authentication challenge: invalid_token, The token expired at '12/20/2025 03:12:57'
2025-12-20 06:22:16.710 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 401 in 49.8730 ms
2025-12-20 06:22:16.710 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 401 in 44.4951 ms
2025-12-20 06:22:23.634 +03:00 [INF] FreeStays Request: LoginCommand {"Email":"bilgi@teybilisim.com","Password":"20110303Tey48!.","$type":"LoginCommand"}
2025-12-20 06:22:24.451 +03:00 [WRN] FreeStays Long Running Request: LoginCommand (814 ms) {"Email":"bilgi@teybilisim.com","Password":"20110303Tey48!.","$type":"LoginCommand"}
2025-12-20 06:22:24.460 +03:00 [INF] HTTP POST /api/v1/Auth/login responded 200 in 896.1655 ms
2025-12-20 06:22:26.059 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:22:26.059 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:22:26.099 +03:00 [INF] FreeStays Request: GetDashboardQuery {"$type":"GetDashboardQuery"}
2025-12-20 06:22:26.099 +03:00 [INF] FreeStays Request: GetDashboardQuery {"$type":"GetDashboardQuery"}
2025-12-20 06:22:26.276 +03:00 [INF] HTTP GET /api/v1/admin/dashboard responded 200 in 218.9418 ms
2025-12-20 06:22:26.390 +03:00 [INF] HTTP GET /api/v1/admin/dashboard responded 200 in 333.2255 ms
2025-12-20 06:22:57.318 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:22:57.318 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:22:57.319 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 2.4588 ms
2025-12-20 06:22:57.319 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 2.3960 ms
2025-12-20 06:23:08.479 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:23:08.479 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:23:08.481 +03:00 [INF] HTTP GET /api/v1/admin/faqs responded 403 in 2.7815 ms
2025-12-20 06:23:08.481 +03:00 [INF] HTTP GET /api/v1/admin/faqs responded 403 in 2.9278 ms
2025-12-20 06:31:24.071 +03:00 [INF] Server macbookair:12873:e9818442 caught stopping signal...
2025-12-20 06:31:24.075 +03:00 [INF] Server macbookair:12873:e9818442 All dispatchers stopped
2025-12-20 06:31:24.081 +03:00 [INF] Server macbookair:12873:e9818442 successfully reported itself as stopped in 1,6967 ms
2025-12-20 06:31:24.082 +03:00 [INF] Server macbookair:12873:e9818442 has been stopped in total 9,4951 ms
2025-12-20 06:31:38.315 +03:00 [INF] Checking database connectivity...
2025-12-20 06:31:39.041 +03:00 [INF] Ensuring database schema exists...
2025-12-20 06:31:39.431 +03:00 [INF] Database is ready.
2025-12-20 06:31:39.563 +03:00 [INF] Admin user already exists, skipping...
2025-12-20 06:31:39.586 +03:00 [INF] Email templates already exist, skipping...
2025-12-20 06:31:39.607 +03:00 [INF] Site settings already exist, skipping...
2025-12-20 06:31:39.607 +03:00 [INF] Database seeding completed successfully.
2025-12-20 06:31:39.609 +03:00 [INF] FreeStays API started at "2025-12-20T03:31:39.6095780Z"
2025-12-20 06:31:39.682 +03:00 [INF] Starting Hangfire Server using job storage: 'In-Memory Storage'
2025-12-20 06:31:39.683 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-12-20 06:31:39.692 +03:00 [INF] Server macbookair:14276:df42316f successfully announced in 0,759 ms
2025-12-20 06:31:39.694 +03:00 [INF] Server macbookair:14276:df42316f is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-12-20 06:31:39.698 +03:00 [INF] Server macbookair:14276:df42316f all the dispatchers started
2025-12-20 06:32:33.339 +03:00 [WRN] Failed to determine the https port for redirect.
2025-12-20 06:32:33.465 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:32:33.465 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:32:33.491 +03:00 [INF] FreeStays Request: GetAllFaqsQuery {"$type":"GetAllFaqsQuery"}
2025-12-20 06:32:33.491 +03:00 [INF] FreeStays Request: GetAllFaqsQuery {"$type":"GetAllFaqsQuery"}
2025-12-20 06:32:33.751 +03:00 [INF] HTTP GET /api/v1/admin/faqs responded 200 in 412.6281 ms
2025-12-20 06:32:33.884 +03:00 [INF] HTTP GET /api/v1/admin/faqs responded 200 in 546.6459 ms
2025-12-20 06:32:40.739 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:32:40.739 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:32:40.742 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 7.8119 ms
2025-12-20 06:32:40.742 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 5.8030 ms
2025-12-20 06:33:18.120 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:33:18.122 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 3.2609 ms
2025-12-20 06:33:18.131 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 06:33:18.131 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 2.1242 ms
2025-12-20 12:20:22.943 +03:00 [INF] Starting SunHotels basic data synchronization... (JobId: "5df23425-3d05-4f82-abee-d939b9eb568f")
2025-12-20 12:20:22.946 +03:00 [INF] Syncing languages...
2025-12-20 12:20:22.948 +03:00 [INF] Sending static request to SunHotels: GetLanguages - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetLanguages?userName=FreestaysTEST&password=Vision2024!@
2025-12-20 12:20:23.295 +03:00 [INF] Parsed 19 languages from XML
2025-12-20 12:20:23.331 +03:00 [INF] Synced 19 languages (Added: 0, Updated: 0)
2025-12-20 12:20:23.333 +03:00 [INF] Syncing themes...
2025-12-20 12:20:23.334 +03:00 [INF] Sending static request to SunHotels: GetThemes - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetThemes?userName=FreestaysTEST&password=Vision2024!@
2025-12-20 12:20:23.588 +03:00 [INF] Parsed 6 themes from XML
2025-12-20 12:20:23.612 +03:00 [INF] Synced 6 themes (Added: 0, Updated: 0)
2025-12-20 12:20:23.613 +03:00 [INF] Syncing destinations for language: en
2025-12-20 12:20:23.614 +03:00 [INF] Sending static request to SunHotels: GetDestinations - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetDestinations?userName=FreestaysTEST&password=Vision2024!@&language=en&destinationCode=&sortBy=&sortOrder=&exactDestinationMatch=
2025-12-20 14:40:13.422 +03:00 [ERR] JWT Authentication failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.12.2025 05:22:24', Current time (UTC): '20.12.2025 11:40:13'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-20 14:40:13.422 +03:00 [ERR] JWT Authentication failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.12.2025 05:22:24', Current time (UTC): '20.12.2025 11:40:13'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-20 14:40:13.471 +03:00 [WRN] JWT Authentication challenge: invalid_token, The token expired at '12/20/2025 05:22:24'
2025-12-20 14:40:13.471 +03:00 [WRN] JWT Authentication challenge: invalid_token, The token expired at '12/20/2025 05:22:24'
2025-12-20 14:40:13.472 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 401 in 84.1035 ms
2025-12-20 14:40:13.472 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 401 in 78.5958 ms
2025-12-20 14:40:19.448 +03:00 [INF] FreeStays Request: LoginCommand {"Email":"bilgi@teybilisim.com","Password":"20110303Tey48!.","$type":"LoginCommand"}
2025-12-20 14:40:37.781 +03:00 [ERR] Failed executing DbCommand (18,245ms) [Parameters=[@__ToLower_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.created_at, u.email, u.is_active, u.locale, u.name, u.password_hash, u.phone, u.refresh_token, u.refresh_token_expiry_time, u.role, u.updated_at
FROM users AS u
WHERE lower(u.email) = @__ToLower_0
LIMIT 1
2025-12-20 14:40:37.792 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'FreeStays.Infrastructure.Persistence.Context.FreeStaysDbContext'.
System.Net.Sockets.SocketException (22): Invalid argument
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketOptionErrorAndThrowException(SocketError error, String callerName)
   at Npgsql.Internal.NpgsqlReadBuffer.set_Timeout(TimeSpan value)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Net.Sockets.SocketException (22): Invalid argument
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketOptionErrorAndThrowException(SocketError error, String callerName)
   at Npgsql.Internal.NpgsqlReadBuffer.set_Timeout(TimeSpan value)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-12-20 14:40:37.801 +03:00 [ERR] FreeStays Request Error: LoginCommand (18351 ms) {"Email":"bilgi@teybilisim.com","Password":"20110303Tey48!.","$type":"LoginCommand"}
System.Net.Sockets.SocketException (22): Invalid argument
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketOptionErrorAndThrowException(SocketError error, String callerName)
   at Npgsql.Internal.NpgsqlReadBuffer.set_Timeout(TimeSpan value)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UserRepository.GetByEmailAsync(String email, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UserRepository.cs:line 16
   at FreeStays.Application.Features.Auth.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Auth/Commands/LoginCommand.cs:line 50
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
2025-12-20 14:40:37.810 +03:00 [ERR] HTTP POST /api/v1/Auth/login responded 500 in 18425.3323 ms
System.Net.Sockets.SocketException (22): Invalid argument
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketOptionErrorAndThrowException(SocketError error, String callerName)
   at Npgsql.Internal.NpgsqlReadBuffer.set_Timeout(TimeSpan value)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UserRepository.GetByEmailAsync(String email, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UserRepository.cs:line 16
   at FreeStays.Application.Features.Auth.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Auth/Commands/LoginCommand.cs:line 50
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
   at FreeStays.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/ValidationBehavior.cs:line 42
   at FreeStays.API.Controllers.AuthController.Login(LoginCommand command) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Controllers/AuthController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-20 14:40:37.823 +03:00 [ERR] Unhandled exception: Invalid argument
System.Net.Sockets.SocketException (22): Invalid argument
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketOptionErrorAndThrowException(SocketError error, String callerName)
   at Npgsql.Internal.NpgsqlReadBuffer.set_Timeout(TimeSpan value)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UserRepository.GetByEmailAsync(String email, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UserRepository.cs:line 16
   at FreeStays.Application.Features.Auth.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Auth/Commands/LoginCommand.cs:line 50
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
   at FreeStays.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/ValidationBehavior.cs:line 42
   at FreeStays.API.Controllers.AuthController.Login(LoginCommand command) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Controllers/AuthController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at FreeStays.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Middleware/ExceptionHandlingMiddleware.cs:line 22
2025-12-20 14:40:39.676 +03:00 [ERR] Error getting destinations from SunHotels
System.Threading.Tasks.TaskCanceledException: The request was canceled due to the configured HttpClient.Timeout of 100 seconds elapsing.
 ---> System.TimeoutException: The operation was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: The operation was canceled.
 ---> System.IO.IOException: Unable to read data from the transport connection: Operation canceled.
 ---> System.Net.Sockets.SocketException (89): Operation canceled
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Http.HttpConnection.FillAsync(Boolean async)
   at System.Net.Http.HttpConnection.CopyToContentLengthAsync(Stream destination, Boolean async, UInt64 length, Int32 bufferSize, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnection.ContentLengthReadStream.CompleteCopyToAsync(Task copyTask, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnection.ContentLengthReadStream.CompleteCopyToAsync(Task copyTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionResponseContent.<SerializeToStreamAsync>g__Impl|6_0(Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpContent.LoadIntoBufferAsyncCore(Task serializeToStreamTask, MemoryStream tempBuffer)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at FreeStays.Infrastructure.ExternalServices.SunHotels.SunHotelsService.SendStaticRequestAsync(String method, Dictionary`2 parameters, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/ExternalServices/SunHotels/SunHotelsService.cs:line 878
   at FreeStays.Infrastructure.ExternalServices.SunHotels.SunHotelsService.GetDestinationsAsync(String language, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/ExternalServices/SunHotels/SunHotelsService.cs:line 48
2025-12-20 14:40:39.681 +03:00 [ERR] Error syncing destinations for language: en
FreeStays.Domain.Exceptions.ExternalServiceException: External service 'SunHotels' error: Failed to get destinations
 ---> System.Threading.Tasks.TaskCanceledException: The request was canceled due to the configured HttpClient.Timeout of 100 seconds elapsing.
 ---> System.TimeoutException: The operation was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: The operation was canceled.
 ---> System.IO.IOException: Unable to read data from the transport connection: Operation canceled.
 ---> System.Net.Sockets.SocketException (89): Operation canceled
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Http.HttpConnection.FillAsync(Boolean async)
   at System.Net.Http.HttpConnection.CopyToContentLengthAsync(Stream destination, Boolean async, UInt64 length, Int32 bufferSize, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnection.ContentLengthReadStream.CompleteCopyToAsync(Task copyTask, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnection.ContentLengthReadStream.CompleteCopyToAsync(Task copyTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionResponseContent.<SerializeToStreamAsync>g__Impl|6_0(Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpContent.LoadIntoBufferAsyncCore(Task serializeToStreamTask, MemoryStream tempBuffer)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at FreeStays.Infrastructure.ExternalServices.SunHotels.SunHotelsService.SendStaticRequestAsync(String method, Dictionary`2 parameters, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/ExternalServices/SunHotels/SunHotelsService.cs:line 878
   at FreeStays.Infrastructure.ExternalServices.SunHotels.SunHotelsService.GetDestinationsAsync(String language, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/ExternalServices/SunHotels/SunHotelsService.cs:line 48
   --- End of inner exception stack trace ---
   at FreeStays.Infrastructure.ExternalServices.SunHotels.SunHotelsService.GetDestinationsAsync(String language, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/ExternalServices/SunHotels/SunHotelsService.cs:line 54
   at FreeStays.Infrastructure.BackgroundJobs.SunHotelsStaticDataSyncJob.SyncDestinationsAsync(String language) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/BackgroundJobs/SunHotelsStaticDataSyncJob.cs:line 191
2025-12-20 14:40:39.688 +03:00 [INF] Syncing meals for language: en
2025-12-20 14:40:39.689 +03:00 [INF] Sending static request to SunHotels: GetMeals - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetMeals?userName=FreestaysTEST&password=Vision2024!@&language=en
2025-12-20 14:40:40.070 +03:00 [INF] Parsed 5 meals from XML
2025-12-20 14:40:40.375 +03:00 [INF] Synced 5 meals for language: en (Added: 0, Updated: 2)
2025-12-20 14:40:40.377 +03:00 [INF] Syncing room types for language: en
2025-12-20 14:40:40.378 +03:00 [INF] Sending static request to SunHotels: GetRoomTypes - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetRoomTypes?userName=FreestaysTEST&password=Vision2024!@&language=en
2025-12-20 14:40:53.414 +03:00 [INF] FreeStays Request: LoginCommand {"Email":"bilgi@teybilisim.com","Password":"20110303Tey48!.","$type":"LoginCommand"}
2025-12-20 14:40:54.008 +03:00 [WRN] FreeStays Long Running Request: LoginCommand (592 ms) {"Email":"bilgi@teybilisim.com","Password":"20110303Tey48!.","$type":"LoginCommand"}
2025-12-20 14:40:54.011 +03:00 [INF] HTTP POST /api/v1/Auth/login responded 200 in 612.3595 ms
2025-12-20 14:40:55.062 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:40:55.062 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:40:55.097 +03:00 [INF] FreeStays Request: GetDashboardQuery {"$type":"GetDashboardQuery"}
2025-12-20 14:40:55.097 +03:00 [INF] FreeStays Request: GetDashboardQuery {"$type":"GetDashboardQuery"}
2025-12-20 14:40:55.260 +03:00 [INF] HTTP GET /api/v1/admin/dashboard responded 200 in 203.9220 ms
2025-12-20 14:40:55.391 +03:00 [INF] HTTP GET /api/v1/admin/dashboard responded 200 in 335.0179 ms
2025-12-20 14:40:55.820 +03:00 [INF] Parsed 184244 room types from XML
2025-12-20 14:40:58.774 +03:00 [INF] Synced 184244 room types for language: en (Added: 0, Updated: 0)
2025-12-20 14:40:58.776 +03:00 [INF] Syncing features for language: en
2025-12-20 14:40:58.777 +03:00 [INF] Sending static request to SunHotels: GetFeatures - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetFeatures?userName=FreestaysTEST&password=Vision2024!@&language=en
2025-12-20 14:40:59.022 +03:00 [INF] Parsed 50 features from XML
2025-12-20 14:40:59.058 +03:00 [INF] Synced 50 features for language: en
2025-12-20 14:41:00.115 +03:00 [INF] SunHotels basic data synchronization completed (JobId: "5df23425-3d05-4f82-abee-d939b9eb568f", Duration: 8437s)
2025-12-20 14:41:03.432 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:41:03.432 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:41:03.432 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:41:03.434 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:41:03.712 +03:00 [INF] HTTP GET /api/v1/admin/jobs/history responded 200 in 288.6003 ms
2025-12-20 14:41:03.712 +03:00 [INF] HTTP GET /api/v1/admin/jobs/history responded 200 in 282.9648 ms
2025-12-20 14:41:04.647 +03:00 [INF] HTTP GET /api/v1/sunhotels/statistics responded 200 in 1221.3722 ms
2025-12-20 14:41:04.937 +03:00 [INF] HTTP GET /api/v1/sunhotels/statistics responded 200 in 1515.6110 ms
2025-12-20 14:41:19.957 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:41:20.066 +03:00 [INF] HTTP GET /api/v1/admin/jobs/history responded 200 in 111.9169 ms
2025-12-20 14:44:32.207 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:44:32.207 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:44:32.208 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:44:32.209 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:44:32.283 +03:00 [INF] HTTP GET /api/v1/sunhotels/statistics responded 200 in 112.2512 ms
2025-12-20 14:44:32.283 +03:00 [INF] HTTP GET /api/v1/sunhotels/statistics responded 200 in 112.0505 ms
2025-12-20 14:44:32.340 +03:00 [INF] HTTP GET /api/v1/admin/jobs/history responded 200 in 158.5855 ms
2025-12-20 14:44:32.340 +03:00 [INF] HTTP GET /api/v1/admin/jobs/history responded 200 in 158.5955 ms
2025-12-20 14:46:46.211 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:46:46.211 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:46:46.279 +03:00 [INF] FreeStays Request: GetAllBookingsQuery {"Page":1,"PageSize":10,"Status":null,"Type":null,"FromDate":null,"ToDate":null,"$type":"GetAllBookingsQuery"}
2025-12-20 14:46:46.280 +03:00 [INF] FreeStays Request: GetAllBookingsQuery {"Page":1,"PageSize":10,"Status":null,"Type":null,"FromDate":null,"ToDate":null,"$type":"GetAllBookingsQuery"}
2025-12-20 14:46:46.581 +03:00 [INF] HTTP GET /api/v1/admin/bookings responded 200 in 375.0137 ms
2025-12-20 14:46:46.581 +03:00 [INF] HTTP GET /api/v1/admin/bookings responded 200 in 374.9920 ms
2025-12-20 14:46:51.209 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:46:51.210 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:46:51.283 +03:00 [INF] FreeStays Request: GetAllCouponsQuery {"Page":1,"PageSize":20,"IsActive":null,"$type":"GetAllCouponsQuery"}
2025-12-20 14:46:51.283 +03:00 [INF] FreeStays Request: GetAllCouponsQuery {"Page":1,"PageSize":20,"IsActive":null,"$type":"GetAllCouponsQuery"}
2025-12-20 14:46:51.330 +03:00 [INF] HTTP GET /api/v1/admin/coupons responded 200 in 126.1272 ms
2025-12-20 14:46:51.330 +03:00 [INF] HTTP GET /api/v1/admin/coupons responded 200 in 126.9923 ms
2025-12-20 14:46:55.023 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:46:55.025 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:46:55.026 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 4.6396 ms
2025-12-20 14:46:55.027 +03:00 [INF] HTTP GET /api/v1/admin/featured-content/hotels responded 403 in 5.0359 ms
2025-12-20 14:47:10.108 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:47:10.109 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:47:10.122 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 14:47:10.122 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 14:47:10.223 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 115.6060 ms
2025-12-20 14:47:10.223 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 121.4667 ms
2025-12-20 14:47:48.786 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:47:48.849 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"siteName","Value":"\"FreeStays\"","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 14:47:48.911 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"defaultLocale","Value":"tr","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 14:47:48.960 +03:00 [ERR] Failed executing DbCommand (29ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SiteSettings" SET "CreatedAt" = @p0, "Group" = @p1, "Key" = @p2, "UpdatedAt" = @p3, "Value" = @p4
WHERE "Id" = @p5;
2025-12-20 14:47:48.971 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'FreeStays.Infrastructure.Persistence.Context.FreeStaysDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22P02: invalid input syntax for type json

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 22P02
    MessageText: invalid input syntax for type json
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: JSON data, line 1: tr
unnamed portal parameter $5
    File: jsonfuncs.c
    Line: 627
    Routine: json_ereport_error
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22P02: invalid input syntax for type json

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 22P02
    MessageText: invalid input syntax for type json
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: JSON data, line 1: tr
unnamed portal parameter $5
    File: jsonfuncs.c
    Line: 627
    Routine: json_ereport_error
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-20 14:47:48.973 +03:00 [ERR] FreeStays Request Error: UpdateSiteSettingCommand (61 ms) {"Key":"defaultLocale","Value":"tr","Group":"site","$type":"UpdateSiteSettingCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22P02: invalid input syntax for type json

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 22P02
    MessageText: invalid input syntax for type json
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: JSON data, line 1: tr
unnamed portal parameter $5
    File: jsonfuncs.c
    Line: 627
    Routine: json_ereport_error
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Settings.Commands.UpdateSiteSettingCommandHandler.Handle(UpdateSiteSettingCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Settings/Commands/UpdateSiteSettingCommand.cs:line 48
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
2025-12-20 14:47:48.979 +03:00 [ERR] HTTP PUT /api/v1/admin/settings/site responded 500 in 194.7852 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22P02: invalid input syntax for type json

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 22P02
    MessageText: invalid input syntax for type json
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: JSON data, line 1: tr
unnamed portal parameter $5
    File: jsonfuncs.c
    Line: 627
    Routine: json_ereport_error
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Settings.Commands.UpdateSiteSettingCommandHandler.Handle(UpdateSiteSettingCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Settings/Commands/UpdateSiteSettingCommand.cs:line 48
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
   at FreeStays.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/ValidationBehavior.cs:line 42
   at FreeStays.API.Controllers.Admin.AdminSettingsController.UpdateSiteSettings(UpdateSiteSettingsRequest request) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Controllers/Admin/AdminSettingsController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-20 14:47:48.985 +03:00 [ERR] Unhandled exception: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22P02: invalid input syntax for type json

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 22P02
    MessageText: invalid input syntax for type json
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: JSON data, line 1: tr
unnamed portal parameter $5
    File: jsonfuncs.c
    Line: 627
    Routine: json_ereport_error
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Settings.Commands.UpdateSiteSettingCommandHandler.Handle(UpdateSiteSettingCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Settings/Commands/UpdateSiteSettingCommand.cs:line 48
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
   at FreeStays.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/ValidationBehavior.cs:line 42
   at FreeStays.API.Controllers.Admin.AdminSettingsController.UpdateSiteSettings(UpdateSiteSettingsRequest request) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Controllers/Admin/AdminSettingsController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at FreeStays.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Middleware/ExceptionHandlingMiddleware.cs:line 22
2025-12-20 14:49:17.832 +03:00 [INF] HTTP GET /swagger/swagger.json responded 404 in 8.6028 ms
2025-12-20 14:49:37.898 +03:00 [INF] HTTP GET /apple-touch-icon-precomposed.png responded 404 in 1.6855 ms
2025-12-20 14:49:37.898 +03:00 [INF] HTTP GET /apple-touch-icon.png responded 404 in 0.2552 ms
2025-12-20 14:49:37.898 +03:00 [INF] HTTP GET /favicon.ico responded 404 in 0.3088 ms
2025-12-20 14:54:14.041 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:54:14.052 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"siteName","Value":"\"FreeStays\"","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 14:54:14.274 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"defaultLocale","Value":"tr","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 14:54:14.321 +03:00 [ERR] Failed executing DbCommand (23ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SiteSettings" SET "CreatedAt" = @p0, "Group" = @p1, "Key" = @p2, "UpdatedAt" = @p3, "Value" = @p4
WHERE "Id" = @p5;
2025-12-20 14:54:14.336 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'FreeStays.Infrastructure.Persistence.Context.FreeStaysDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22P02: invalid input syntax for type json

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 22P02
    MessageText: invalid input syntax for type json
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: JSON data, line 1: tr
unnamed portal parameter $5
    File: jsonfuncs.c
    Line: 627
    Routine: json_ereport_error
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22P02: invalid input syntax for type json

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 22P02
    MessageText: invalid input syntax for type json
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: JSON data, line 1: tr
unnamed portal parameter $5
    File: jsonfuncs.c
    Line: 627
    Routine: json_ereport_error
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-20 14:54:14.340 +03:00 [ERR] FreeStays Request Error: UpdateSiteSettingCommand (65 ms) {"Key":"defaultLocale","Value":"tr","Group":"site","$type":"UpdateSiteSettingCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22P02: invalid input syntax for type json

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 22P02
    MessageText: invalid input syntax for type json
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: JSON data, line 1: tr
unnamed portal parameter $5
    File: jsonfuncs.c
    Line: 627
    Routine: json_ereport_error
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Settings.Commands.UpdateSiteSettingCommandHandler.Handle(UpdateSiteSettingCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Settings/Commands/UpdateSiteSettingCommand.cs:line 48
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
2025-12-20 14:54:14.348 +03:00 [ERR] HTTP PUT /api/v1/admin/settings/site responded 500 in 312.0691 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22P02: invalid input syntax for type json

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 22P02
    MessageText: invalid input syntax for type json
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: JSON data, line 1: tr
unnamed portal parameter $5
    File: jsonfuncs.c
    Line: 627
    Routine: json_ereport_error
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Settings.Commands.UpdateSiteSettingCommandHandler.Handle(UpdateSiteSettingCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Settings/Commands/UpdateSiteSettingCommand.cs:line 48
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
   at FreeStays.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/ValidationBehavior.cs:line 42
   at FreeStays.API.Controllers.Admin.AdminSettingsController.UpdateSiteSettings(UpdateSiteSettingsRequest request) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Controllers/Admin/AdminSettingsController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-20 14:54:14.359 +03:00 [ERR] Unhandled exception: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22P02: invalid input syntax for type json

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 22P02
    MessageText: invalid input syntax for type json
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: JSON data, line 1: tr
unnamed portal parameter $5
    File: jsonfuncs.c
    Line: 627
    Routine: json_ereport_error
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Settings.Commands.UpdateSiteSettingCommandHandler.Handle(UpdateSiteSettingCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Settings/Commands/UpdateSiteSettingCommand.cs:line 48
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
   at FreeStays.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/ValidationBehavior.cs:line 42
   at FreeStays.API.Controllers.Admin.AdminSettingsController.UpdateSiteSettings(UpdateSiteSettingsRequest request) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Controllers/Admin/AdminSettingsController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at FreeStays.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Middleware/ExceptionHandlingMiddleware.cs:line 22
2025-12-20 14:54:30.178 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:54:30.179 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:54:30.179 +03:00 [INF] FreeStays Request: GetAllCouponsQuery {"Page":1,"PageSize":20,"IsActive":null,"$type":"GetAllCouponsQuery"}
2025-12-20 14:54:30.179 +03:00 [INF] FreeStays Request: GetAllCouponsQuery {"Page":1,"PageSize":20,"IsActive":null,"$type":"GetAllCouponsQuery"}
2025-12-20 14:54:30.224 +03:00 [INF] HTTP GET /api/v1/admin/coupons responded 200 in 45.2153 ms
2025-12-20 14:54:30.433 +03:00 [INF] HTTP GET /api/v1/admin/coupons responded 200 in 255.9727 ms
2025-12-20 14:55:03.561 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:55:03.563 +03:00 [INF] HTTP GET /api/v1/sunhotels/statistics responded 200 in 3.1397 ms
2025-12-20 14:55:03.564 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:55:03.564 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:55:03.565 +03:00 [INF] HTTP GET /api/v1/sunhotels/statistics responded 200 in 1.9233 ms
2025-12-20 14:55:03.569 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:55:03.619 +03:00 [INF] HTTP GET /api/v1/admin/jobs/history responded 200 in 50.3757 ms
2025-12-20 14:55:03.627 +03:00 [INF] HTTP GET /api/v1/admin/jobs/history responded 200 in 63.5373 ms
2025-12-20 14:55:08.088 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:55:08.089 +03:00 [INF] HTTP GET /api/v1/sunhotels/statistics responded 200 in 1.2855 ms
2025-12-20 14:55:08.092 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:55:08.137 +03:00 [INF] HTTP GET /api/v1/admin/jobs/history responded 200 in 45.3514 ms
2025-12-20 14:55:11.494 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 14:55:11.546 +03:00 [INF] HTTP GET /api/v1/admin/jobs/history responded 200 in 52.4487 ms
2025-12-20 15:01:01.143 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 15:01:01.143 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 15:01:01.146 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 15:01:01.146 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 15:01:01.335 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 193.0093 ms
2025-12-20 15:01:01.335 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 193.2655 ms
2025-12-20 15:01:15.129 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 15:01:15.131 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"siteName","Value":"\"FreeStays\"","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:01:15.179 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"defaultLocale","Value":"en","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:01:15.217 +03:00 [ERR] Failed executing DbCommand (19ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SiteSettings" SET "CreatedAt" = @p0, "Group" = @p1, "Key" = @p2, "UpdatedAt" = @p3, "Value" = @p4
WHERE "Id" = @p5;
2025-12-20 15:01:15.219 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'FreeStays.Infrastructure.Persistence.Context.FreeStaysDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22P02: invalid input syntax for type json

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 22P02
    MessageText: invalid input syntax for type json
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: JSON data, line 1: en
unnamed portal parameter $5
    File: jsonfuncs.c
    Line: 627
    Routine: json_ereport_error
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22P02: invalid input syntax for type json

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 22P02
    MessageText: invalid input syntax for type json
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: JSON data, line 1: en
unnamed portal parameter $5
    File: jsonfuncs.c
    Line: 627
    Routine: json_ereport_error
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-20 15:01:15.221 +03:00 [ERR] FreeStays Request Error: UpdateSiteSettingCommand (41 ms) {"Key":"defaultLocale","Value":"en","Group":"site","$type":"UpdateSiteSettingCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22P02: invalid input syntax for type json

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 22P02
    MessageText: invalid input syntax for type json
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: JSON data, line 1: en
unnamed portal parameter $5
    File: jsonfuncs.c
    Line: 627
    Routine: json_ereport_error
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Settings.Commands.UpdateSiteSettingCommandHandler.Handle(UpdateSiteSettingCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Settings/Commands/UpdateSiteSettingCommand.cs:line 48
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
2025-12-20 15:01:15.226 +03:00 [ERR] HTTP PUT /api/v1/admin/settings/site responded 500 in 97.6138 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22P02: invalid input syntax for type json

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 22P02
    MessageText: invalid input syntax for type json
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: JSON data, line 1: en
unnamed portal parameter $5
    File: jsonfuncs.c
    Line: 627
    Routine: json_ereport_error
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Settings.Commands.UpdateSiteSettingCommandHandler.Handle(UpdateSiteSettingCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Settings/Commands/UpdateSiteSettingCommand.cs:line 48
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
   at FreeStays.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/ValidationBehavior.cs:line 42
   at FreeStays.API.Controllers.Admin.AdminSettingsController.UpdateSiteSettings(UpdateSiteSettingsRequest request) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Controllers/Admin/AdminSettingsController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-20 15:01:15.228 +03:00 [ERR] Unhandled exception: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22P02: invalid input syntax for type json

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 22P02
    MessageText: invalid input syntax for type json
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: JSON data, line 1: en
unnamed portal parameter $5
    File: jsonfuncs.c
    Line: 627
    Routine: json_ereport_error
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Repositories.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Repositories/UnitOfWork.cs:line 19
   at FreeStays.Application.Features.Settings.Commands.UpdateSiteSettingCommandHandler.Handle(UpdateSiteSettingCommand request, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Features/Settings/Commands/UpdateSiteSettingCommand.cs:line 48
   at FreeStays.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/LoggingBehavior.cs:line 27
   at FreeStays.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Application/Common/Behaviors/ValidationBehavior.cs:line 42
   at FreeStays.API.Controllers.Admin.AdminSettingsController.UpdateSiteSettings(UpdateSiteSettingsRequest request) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Controllers/Admin/AdminSettingsController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at FreeStays.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.API/Middleware/ExceptionHandlingMiddleware.cs:line 22
2025-12-20 15:08:46.423 +03:00 [INF] Server macbookair:14276:df42316f caught stopping signal...
2025-12-20 15:08:46.438 +03:00 [INF] Server macbookair:14276:df42316f All dispatchers stopped
2025-12-20 15:08:46.443 +03:00 [INF] Server macbookair:14276:df42316f successfully reported itself as stopped in 1,5482 ms
2025-12-20 15:08:46.443 +03:00 [INF] Server macbookair:14276:df42316f has been stopped in total 11,0737 ms
2025-12-20 15:08:53.136 +03:00 [INF] Checking database connectivity...
2025-12-20 15:08:53.840 +03:00 [INF] Ensuring database schema exists...
2025-12-20 15:08:54.237 +03:00 [INF] Database is ready.
2025-12-20 15:08:54.362 +03:00 [INF] Admin user already exists, skipping...
2025-12-20 15:08:54.385 +03:00 [INF] Email templates already exist, skipping...
2025-12-20 15:08:54.407 +03:00 [INF] Site settings already exist, skipping...
2025-12-20 15:08:54.408 +03:00 [INF] Database seeding completed successfully.
2025-12-20 15:08:54.410 +03:00 [INF] FreeStays API started at "2025-12-20T12:08:54.4102030Z"
2025-12-20 15:08:54.453 +03:00 [INF] Starting Hangfire Server using job storage: 'In-Memory Storage'
2025-12-20 15:08:54.453 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-12-20 15:08:54.460 +03:00 [INF] Server macbookair:14979:56bb0f3b successfully announced in 0,6845 ms
2025-12-20 15:08:54.461 +03:00 [INF] Server macbookair:14979:56bb0f3b is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-12-20 15:08:54.463 +03:00 [INF] Server macbookair:14979:56bb0f3b all the dispatchers started
2025-12-20 15:08:59.096 +03:00 [WRN] Failed to determine the https port for redirect.
2025-12-20 15:08:59.154 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 15:08:59.184 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"siteName","Value":"\"FreeStays\"","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:08:59.325 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"defaultLocale","Value":"en","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:08:59.370 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"defaultCurrency","Value":"EUR","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:08:59.410 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"maintenanceMode","Value":"false","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:08:59.455 +03:00 [INF] HTTP PUT /api/v1/admin/settings/site responded 200 in 359.6543 ms
2025-12-20 15:08:59.470 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 15:08:59.474 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 15:08:59.531 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 66.0772 ms
2025-12-20 15:09:05.742 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 15:09:05.742 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 15:09:05.754 +03:00 [INF] FreeStays Request: GetAllBookingsQuery {"Page":1,"PageSize":10,"Status":null,"Type":null,"FromDate":null,"ToDate":null,"$type":"GetAllBookingsQuery"}
2025-12-20 15:09:05.754 +03:00 [INF] FreeStays Request: GetAllBookingsQuery {"Page":1,"PageSize":10,"Status":null,"Type":null,"FromDate":null,"ToDate":null,"$type":"GetAllBookingsQuery"}
2025-12-20 15:09:05.862 +03:00 [INF] HTTP GET /api/v1/admin/bookings responded 200 in 122.3820 ms
2025-12-20 15:09:05.993 +03:00 [INF] HTTP GET /api/v1/admin/bookings responded 200 in 251.2048 ms
2025-12-20 15:09:08.785 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 15:09:08.787 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 15:09:08.788 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 15:09:08.789 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 15:09:08.817 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 32.4184 ms
2025-12-20 15:09:08.817 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 29.1308 ms
2025-12-20 15:09:22.282 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 15:09:22.288 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"siteName","Value":"FreeStays","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:09:22.342 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"supportEmail","Value":"bilgi@teybilisim.com","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:09:22.382 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"supportPhone","Value":"+905358959397","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:09:22.429 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"defaultLocale","Value":"en","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:09:22.470 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"maintenanceMode","Value":"false","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:09:22.512 +03:00 [INF] HTTP PUT /api/v1/admin/settings/site responded 200 in 230.8958 ms
2025-12-20 15:09:22.517 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 15:09:22.518 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 15:09:22.539 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 22.7548 ms
2025-12-20 15:09:40.668 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 15:09:40.671 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"siteName","Value":"FreeStays","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:09:40.729 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"supportEmail","Value":"bilgi@teybilisim.com","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:09:40.769 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"supportPhone","Value":"+905358959397","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:09:40.812 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"defaultLocale","Value":"en","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:09:40.853 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"maintenanceMode","Value":"false","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:09:40.893 +03:00 [INF] HTTP PUT /api/v1/admin/settings/site responded 200 in 227.2108 ms
2025-12-20 15:09:40.899 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 15:09:40.899 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 15:09:40.921 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 22.4479 ms
2025-12-20 15:10:41.601 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 15:10:41.606 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"siteName","Value":"FreeStays","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:10:41.666 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"supportEmail","Value":"bilgi@teybilisim.com","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:10:41.705 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"supportPhone","Value":"00905358959397","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:10:41.746 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"defaultLocale","Value":"en","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:10:41.783 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"defaultCurrency","Value":"EUR","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:10:41.821 +03:00 [INF] FreeStays Request: UpdateSiteSettingCommand {"Key":"maintenanceMode","Value":"false","Group":"site","$type":"UpdateSiteSettingCommand"}
2025-12-20 15:10:41.860 +03:00 [INF] HTTP PUT /api/v1/admin/settings/site responded 200 in 260.2553 ms
2025-12-20 15:10:41.865 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 15:10:41.866 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 15:10:41.888 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 23.5185 ms
2025-12-20 15:10:53.339 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 15:10:53.343 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 15:10:53.357 +03:00 [INF] JWT Token validated successfully for user: Halit YILMAZ
2025-12-20 15:10:53.358 +03:00 [INF] FreeStays Request: GetSiteSettingsQuery {"Group":null,"$type":"GetSiteSettingsQuery"}
2025-12-20 15:10:53.399 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 42.8393 ms
2025-12-20 15:10:53.399 +03:00 [INF] HTTP GET /api/v1/admin/settings/site responded 200 in 62.7470 ms
2025-12-20 19:09:38.744 +03:00 [ERR] An error occurred using the connection to database 'freestays' on server 'tcp://89.252.134.67:3105'.
2025-12-20 19:09:38.749 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'FreeStays.Infrastructure.Persistence.Context.FreeStaysDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 89.252.134.67:3105
 ---> System.Net.Sockets.SocketException (51): Network is unreachable
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.CreateException(SocketError error, Boolean forAsyncThrow)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ConnectAsync(Socket socket)
   at System.Net.Sockets.Socket.ConnectAsync(EndPoint remoteEP, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<>c__DisplayClass220_0.<ConnectAsync>g__ConnectAsync|2(CancellationToken ct)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<ConnectAsync>g__OpenSocketConnectionAsync|220_1(Socket socket, EndPoint endpoint, NpgsqlTimeout perIpTimeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.OpenAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChangesAsync>b__114_0(DbContext _, ValueTuple`2 t, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Context.FreeStaysDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Context/FreeStaysDbContext.cs:line 76
   at FreeStays.Infrastructure.BackgroundJobs.SunHotelsStaticDataSyncJob.SyncBasicDataAsync() in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/BackgroundJobs/SunHotelsStaticDataSyncJob.cs:line 130
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at FreeStays.Infrastructure.BackgroundJobs.SunHotelsStaticDataSyncJob.SyncBasicDataAsync()
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
   at Hangfire.Server.CoreBackgroundJobPerformer.InvokeSynchronously(Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\CoreBackgroundJobPerformer.cs:line 215
   at System.Threading.Tasks.Task`1.InnerInvoke()
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
   at System.Threading.Thread.StartCallback()
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 89.252.134.67:3105
 ---> System.Net.Sockets.SocketException (51): Network is unreachable
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.CreateException(SocketError error, Boolean forAsyncThrow)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ConnectAsync(Socket socket)
   at System.Net.Sockets.Socket.ConnectAsync(EndPoint remoteEP, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<>c__DisplayClass220_0.<ConnectAsync>g__ConnectAsync|2(CancellationToken ct)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<ConnectAsync>g__OpenSocketConnectionAsync|220_1(Socket socket, EndPoint endpoint, NpgsqlTimeout perIpTimeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.OpenAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChangesAsync>b__114_0(DbContext _, ValueTuple`2 t, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Context.FreeStaysDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Context/FreeStaysDbContext.cs:line 76
   at FreeStays.Infrastructure.BackgroundJobs.SunHotelsStaticDataSyncJob.SyncBasicDataAsync() in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/BackgroundJobs/SunHotelsStaticDataSyncJob.cs:line 130
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at FreeStays.Infrastructure.BackgroundJobs.SunHotelsStaticDataSyncJob.SyncBasicDataAsync()
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
   at Hangfire.Server.CoreBackgroundJobPerformer.InvokeSynchronously(Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\CoreBackgroundJobPerformer.cs:line 215
   at System.Threading.Tasks.Task`1.InnerInvoke()
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
   at System.Threading.Thread.StartCallback()
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-20 19:09:38.901 +03:00 [WRN] Failed to process the job '1': an exception occurred. Retry attempt 1 of 10 will be performed in 00:00:24.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 89.252.134.67:3105
 ---> System.Net.Sockets.SocketException (51): Network is unreachable
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.CreateException(SocketError error, Boolean forAsyncThrow)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ConnectAsync(Socket socket)
   at System.Net.Sockets.Socket.ConnectAsync(EndPoint remoteEP, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<>c__DisplayClass220_0.<ConnectAsync>g__ConnectAsync|2(CancellationToken ct)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<ConnectAsync>g__OpenSocketConnectionAsync|220_1(Socket socket, EndPoint endpoint, NpgsqlTimeout perIpTimeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.OpenAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChangesAsync>b__114_0(DbContext _, ValueTuple`2 t, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(CancellationToken cancellationToken)
   at FreeStays.Infrastructure.Persistence.Context.FreeStaysDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/Persistence/Context/FreeStaysDbContext.cs:line 76
   at FreeStays.Infrastructure.BackgroundJobs.SunHotelsStaticDataSyncJob.SyncBasicDataAsync() in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/BackgroundJobs/SunHotelsStaticDataSyncJob.cs:line 130
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at FreeStays.Infrastructure.BackgroundJobs.SunHotelsStaticDataSyncJob.SyncBasicDataAsync()
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
   at Hangfire.Server.CoreBackgroundJobPerformer.InvokeSynchronously(Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\CoreBackgroundJobPerformer.cs:line 215
   at System.Threading.Tasks.Task`1.InnerInvoke()
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
   at System.Threading.Thread.StartCallback()
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FreeStays.Infrastructure.BackgroundJobs.SunHotelsStaticDataSyncJob.SyncBasicDataAsync() in /Users/halityilmaz/Programlar/Web/freestaysapi/src/FreeStays.Infrastructure/BackgroundJobs/SunHotelsStaticDataSyncJob.cs:line 130
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-12-20 19:10:07.951 +03:00 [INF] Starting SunHotels basic data synchronization... (JobId: "3ba99e56-881a-4cc3-a6d8-331f43a18385")
2025-12-20 19:10:07.954 +03:00 [INF] Syncing languages...
2025-12-20 19:10:07.957 +03:00 [INF] Sending static request to SunHotels: GetLanguages - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetLanguages?userName=FreestaysTEST&password=Vision2024!@
2025-12-20 19:10:08.482 +03:00 [INF] Parsed 19 languages from XML
2025-12-20 19:10:08.520 +03:00 [INF] Synced 19 languages (Added: 0, Updated: 0)
2025-12-20 19:10:08.522 +03:00 [INF] Syncing themes...
2025-12-20 19:10:08.523 +03:00 [INF] Sending static request to SunHotels: GetThemes - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetThemes?userName=FreestaysTEST&password=Vision2024!@
2025-12-20 19:10:08.763 +03:00 [INF] Parsed 6 themes from XML
2025-12-20 19:10:08.788 +03:00 [INF] Synced 6 themes (Added: 0, Updated: 0)
2025-12-20 19:10:08.791 +03:00 [INF] Syncing destinations for language: en
2025-12-20 19:10:08.793 +03:00 [INF] Sending static request to SunHotels: GetDestinations - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetDestinations?userName=FreestaysTEST&password=Vision2024!@&language=en&destinationCode=&sortBy=&sortOrder=&exactDestinationMatch=
2025-12-20 19:10:12.797 +03:00 [INF] Parsed 23248 destinations from XML
2025-12-20 19:10:13.011 +03:00 [INF] Synced 23248 destinations for language: en (Added: 0, Updated: 0)
2025-12-20 19:10:13.013 +03:00 [INF] Syncing meals for language: en
2025-12-20 19:10:13.014 +03:00 [INF] Sending static request to SunHotels: GetMeals - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetMeals?userName=FreestaysTEST&password=Vision2024!@&language=en
2025-12-20 19:10:13.109 +03:00 [INF] Parsed 5 meals from XML
2025-12-20 19:10:13.193 +03:00 [INF] Synced 5 meals for language: en (Added: 0, Updated: 2)
2025-12-20 19:10:13.195 +03:00 [INF] Syncing room types for language: en
2025-12-20 19:10:13.195 +03:00 [INF] Sending static request to SunHotels: GetRoomTypes - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetRoomTypes?userName=FreestaysTEST&password=Vision2024!@&language=en
2025-12-20 19:10:24.366 +03:00 [INF] Parsed 184244 room types from XML
2025-12-20 19:10:26.782 +03:00 [INF] Synced 184244 room types for language: en (Added: 0, Updated: 0)
2025-12-20 19:10:26.783 +03:00 [INF] Syncing features for language: en
2025-12-20 19:10:26.783 +03:00 [INF] Sending static request to SunHotels: GetFeatures - URL: http://xml.sunhotels.net/15/PostGet/StaticXMLAPI.asmx/GetFeatures?userName=FreestaysTEST&password=Vision2024!@&language=en
2025-12-20 19:10:27.015 +03:00 [INF] Parsed 50 features from XML
2025-12-20 19:10:27.046 +03:00 [INF] Synced 50 features for language: en
2025-12-20 19:10:28.192 +03:00 [INF] SunHotels basic data synchronization completed (JobId: "3ba99e56-881a-4cc3-a6d8-331f43a18385", Duration: 20s)
